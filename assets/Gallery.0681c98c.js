import{t as D,g as v,A as Y,B as F,C as j,D as G,E as W,s as w,G as V,w as R,o as b,e as M,f as y,H as U,F as X,I as Z,J as k,z as J}from"./index.02d11855.js";import{u as K}from"./useGallery.a5c7dd87.js";var C;const O=typeof window!="undefined";O&&((C=window==null?void 0:window.navigator)==null?void 0:C.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function P(e){return typeof e=="function"?e():v(e)}function q(e){return e}function ee(e){return Y()?(F(e),!0):!1}function te(e,t=!0){j()?G(e):t?e():W(e)}const ne=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,oe=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a{1,2}|A{1,2}|m{1,2}|s{1,2}|Z{1,2}|SSS/g,re=(e,t,n,o)=>{let a=e<12?"AM":"PM";return o&&(a=a.split("").reduce((i,s)=>i+=`${s}.`,"")),n?a.toLowerCase():a},se=(e,t,n={})=>{var o;const a=e.getFullYear(),i=e.getMonth(),s=e.getDate(),r=e.getHours(),l=e.getMinutes(),u=e.getSeconds(),m=e.getMilliseconds(),h=e.getDay(),_=(o=n.customMeridiem)!=null?o:re,S={YY:()=>String(a).slice(-2),YYYY:()=>a,M:()=>i+1,MM:()=>`${i+1}`.padStart(2,"0"),MMM:()=>e.toLocaleDateString(n.locales,{month:"short"}),MMMM:()=>e.toLocaleDateString(n.locales,{month:"long"}),D:()=>String(s),DD:()=>`${s}`.padStart(2,"0"),H:()=>String(r),HH:()=>`${r}`.padStart(2,"0"),h:()=>`${r%12||12}`.padStart(1,"0"),hh:()=>`${r%12||12}`.padStart(2,"0"),m:()=>String(l),mm:()=>`${l}`.padStart(2,"0"),s:()=>String(u),ss:()=>`${u}`.padStart(2,"0"),SSS:()=>`${m}`.padStart(3,"0"),d:()=>h,dd:()=>e.toLocaleDateString(n.locales,{weekday:"narrow"}),ddd:()=>e.toLocaleDateString(n.locales,{weekday:"short"}),dddd:()=>e.toLocaleDateString(n.locales,{weekday:"long"}),A:()=>_(r,l),AA:()=>_(r,l,!1,!0),a:()=>_(r,l,!0),aa:()=>_(r,l,!0,!0)};return t.replace(oe,(I,x)=>x||S[I]())},ae=e=>{if(e===null)return new Date(NaN);if(e===void 0)return new Date;if(e instanceof Date)return new Date(e);if(typeof e=="string"&&!/Z$/i.test(e)){const t=e.match(ne);if(t){const n=t[2]-1||0,o=(t[7]||"0").substring(0,3);return new Date(t[1],n,t[3]||1,t[4]||0,t[5]||0,t[6]||0,o)}}return new Date(e)};function ie(e,t="HH:mm:ss",n={}){return D(()=>se(ae(P(e)),P(t),n))}function N(e){var t;const n=P(e);return(t=n==null?void 0:n.$el)!=null?t:n}const le=O?window:void 0;O&&window.document;O&&window.navigator;O&&window.location;function ce(e,t=!1){const n=w(),o=()=>n.value=Boolean(e());return o(),te(o,t),n}const $=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},E="__vueuse_ssr_handlers__";$[E]=$[E]||{};$[E];var H=Object.getOwnPropertySymbols,ue=Object.prototype.hasOwnProperty,de=Object.prototype.propertyIsEnumerable,fe=(e,t)=>{var n={};for(var o in e)ue.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&H)for(var o of H(e))t.indexOf(o)<0&&de.call(e,o)&&(n[o]=e[o]);return n};function pe(e,t,n={}){const o=n,{window:a=le}=o,i=fe(o,["window"]);let s;const r=ce(()=>a&&"ResizeObserver"in a),l=()=>{s&&(s.disconnect(),s=void 0)},u=R(()=>N(e),h=>{l(),r.value&&a&&h&&(s=new ResizeObserver(t),s.observe(h,i))},{immediate:!0,flush:"post"}),m=()=>{l(),u()};return ee(m),{isSupported:r,stop:m}}function ge(e,t={width:0,height:0},n={}){const{box:o="content-box"}=n,a=w(t.width),i=w(t.height);return pe(e,([s])=>{const r=o==="border-box"?s.borderBoxSize:o==="content-box"?s.contentBoxSize:s.devicePixelContentBoxSize;r?(a.value=r.reduce((l,{inlineSize:u})=>l+u,0),i.value=r.reduce((l,{blockSize:u})=>l+u,0)):(a.value=s.contentRect.width,i.value=s.contentRect.height)},n),R(()=>N(e),s=>{a.value=s?t.width:0,i.value=s?t.height:0}),{width:a,height:i}}var B;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(B||(B={}));var he=Object.defineProperty,L=Object.getOwnPropertySymbols,me=Object.prototype.hasOwnProperty,_e=Object.prototype.propertyIsEnumerable,A=(e,t,n)=>t in e?he(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ve=(e,t)=>{for(var n in t||(t={}))me.call(t,n)&&A(e,n,t[n]);if(L)for(var n of L(t))_e.call(t,n)&&A(e,n,t[n]);return e};const we={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};ve({linear:q},we);function be(e,t){const n=w(),o=ge(n),a=w([]),i=V(e),s=w({start:0,end:10}),{itemHeight:r,overscan:l=5}=t,u=c=>{if(typeof r=="number")return Math.ceil(c/r);const{start:p=0}=s.value;let d=0,f=0;for(let g=p;g<i.value.length;g++)if(d+=r(g),d>=c){f=g;break}return f-p},m=c=>{if(typeof r=="number")return Math.floor(c/r)+1;let p=0,d=0;for(let f=0;f<i.value.length;f++)if(p+=r(f),p>=c){d=f;break}return d+1},h=()=>{const c=n.value;if(c){const p=m(c.scrollTop),d=u(c.clientHeight),f=p-l,g=p+d+l;s.value={start:f<0?0:f,end:g>i.value.length?i.value.length:g},a.value=i.value.slice(s.value.start,s.value.end).map((T,Q)=>({data:T,index:Q+s.value.start}))}};R([o.width,o.height,e],()=>{h()});const _=D(()=>typeof r=="number"?i.value.length*r:i.value.reduce((c,p,d)=>c+r(d),0)),S=c=>typeof r=="number"?c*r:i.value.slice(0,c).reduce((d,f,g)=>d+r(g),0),I=c=>{n.value&&(n.value.scrollTop=S(c),h())},x=D(()=>S(s.value.start)),z=D(()=>({style:{width:"100%",height:`${_.value-x.value}px`,marginTop:`${x.value}px`}}));return{list:a,scrollTo:I,containerProps:{ref:n,onScroll:()=>{h()},style:{overflowY:"auto"}},wrapperProps:z}}const ye={class:"shadow-lg rounded-br-3xl mb-10"},Oe={class:"mb-4"},Se=["src"],xe={class:"p-4"},De={__name:"FigureWrapper",props:{img_url:String,created_at:String},setup(e){const t=e,n=ie(t.created_at,"MM/DD");return(o,a)=>(b(),M("li",ye,[y("figure",Oe,[y("img",{class:"block w-full h-64 object-contain",src:t.img_url,loading:"lazy"},null,8,Se)]),y("p",xe,"\u4E0A\u50B3\u65E5\u671F: "+U(v(n)),1)]))}},Me={key:0,class:"text-center col-span-2 text-primary"},Ie=y("i",{class:"bx bx-loader-alt bx-spin bx-lg"},null,-1),Pe=[Ie],Te={__name:"Gallery",setup(e){const{loading:t,list:n,reload:o}=K(),{list:a,containerProps:i,wrapperProps:s}=be(n,{itemHeight:368});return(r,l)=>(b(),M("div",k(v(i),{class:"h-header-full"}),[y("ul",k(v(s),{class:"p-4 max-w-md mx-auto"}),[v(t)?(b(),M("div",Me,Pe)):(b(!0),M(X,{key:1},Z(v(a),({data:u})=>(b(),J(De,{key:u.id,img_url:u.img_url,created_at:u.created_at},null,8,["img_url","created_at"]))),128))],16)],16))}};export{Te as default};
