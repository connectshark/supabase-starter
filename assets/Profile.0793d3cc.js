import{r,s as _,u as x,d as b,o as i,c as u,a as e,i as g,j as v,v as y,g as p,F as w}from"./index.bb664abf.js";const k=({id:d})=>{const s=r(!1),o=r(null),t=r(!1),n=()=>{s.value=!0,o.value=null,t.value=!1,_.from("profiles").select("*").eq("id",d).single().then(({data:a,error:l})=>{s.value=!1,o.value=a,t.value=!!l})};return n(),{loading:s,result:o,err:t,reload:n}},q=e("h2",{class:"bg-primary py-10 text-white text-center font-bold text-3xl mb-8 leading-loose"},"\u500B\u4EBA\u8CC7\u8A0A",-1),B={class:"max-w-lg mx-auto w-5/6"},F=["onSubmit"],P={class:"mb-10"},S=e("label",{class:"block text-lg",for:"username"},"\u4F7F\u7528\u8005\u540D\u7A31",-1),D=["disabled","placeholder"],M={class:"text-right"},U={class:"text-md font-bold hover:opacity-80 text-white bg-primary py-4 w-24 rounded-full",type:"submit"},V={key:0},j={key:1},E=e("i",{class:"bx bx-loader-alt bx-spin"},null,-1),L=[E],z={__name:"Profile",setup(d){const s=x(),{loading:o,result:t,reload:n}=k({id:s.id}),a=b({username:""}),l=r(!1),f=async()=>{l.value=!0,await _.from("profiles").update({username:a.username}).eq("id",s.id),a.username="",n(),l.value=!1};return(N,c)=>{var m;return i(),u(w,null,[q,e("div",B,[e("form",{onSubmit:g(f,["prevent"])},[e("ul",P,[e("li",null,[S,v(e("input",{minlength:"1",maxlength:"10",required:"",disabled:l.value,class:"focus:ring-2 disabled:text-stone-400 block w-full text-xl text-stone-700 border-none py-6 px-10 rounded-full ring-primary bg-gray-100",type:"text",id:"username","onUpdate:modelValue":c[0]||(c[0]=h=>a.username=h),placeholder:(m=p(t))!=null&&m.username?p(t).username:"(null)"},null,8,D),[[y,a.username]])])]),e("div",M,[e("button",U,[l.value?(i(),u("span",j,L)):(i(),u("span",V,"\u4FEE\u6539"))])])],40,F)])],64)}}};export{z as default};
