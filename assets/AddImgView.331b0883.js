import{L as et,M as nt,u as rt,s as ot,y as it,o as F,e as D,j as X,F as Q,I as Y,g as st,f as N,i as at,k as ut,K as Z}from"./index.02d11855.js";import{a as ct}from"./useGallery.a5c7dd87.js";var tt={exports:{}};/*! For license information please see imgur.js.LICENSE.txt */(function(W,z){(function(G,J){W.exports=J()})(et,function(){return(()=>{var G={669:(l,g,e)=>{l.exports=e(609)},448:(l,g,e)=>{var d=e(867),v=e(26),n=e(372),r=e(327),p=e(97),y=e(109),f=e(985),u=e(61),_=e(655),c=e(263);l.exports=function(o){return new Promise(function(x,m){var t,i=o.data,a=o.headers,b=o.responseType;function h(){o.cancelToken&&o.cancelToken.unsubscribe(t),o.signal&&o.signal.removeEventListener("abort",t)}d.isFormData(i)&&delete a["Content-Type"];var s=new XMLHttpRequest;if(o.auth){var O=o.auth.username||"",E=o.auth.password?unescape(encodeURIComponent(o.auth.password)):"";a.Authorization="Basic "+btoa(O+":"+E)}var w=p(o.baseURL,o.url);function j(){if(s){var C="getAllResponseHeaders"in s?y(s.getAllResponseHeaders()):null,A={data:b&&b!=="text"&&b!=="json"?s.response:s.responseText,status:s.status,statusText:s.statusText,headers:C,config:o,request:s};v(function(S){x(S),h()},function(S){m(S),h()},A),s=null}}if(s.open(o.method.toUpperCase(),r(w,o.params,o.paramsSerializer),!0),s.timeout=o.timeout,"onloadend"in s?s.onloadend=j:s.onreadystatechange=function(){s&&s.readyState===4&&(s.status!==0||s.responseURL&&s.responseURL.indexOf("file:")===0)&&setTimeout(j)},s.onabort=function(){s&&(m(u("Request aborted",o,"ECONNABORTED",s)),s=null)},s.onerror=function(){m(u("Network Error",o,null,s)),s=null},s.ontimeout=function(){var C=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded",A=o.transitional||_.transitional;o.timeoutErrorMessage&&(C=o.timeoutErrorMessage),m(u(C,o,A.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",s)),s=null},d.isStandardBrowserEnv()){var L=(o.withCredentials||f(w))&&o.xsrfCookieName?n.read(o.xsrfCookieName):void 0;L&&(a[o.xsrfHeaderName]=L)}"setRequestHeader"in s&&d.forEach(a,function(C,A){i===void 0&&A.toLowerCase()==="content-type"?delete a[A]:s.setRequestHeader(A,C)}),d.isUndefined(o.withCredentials)||(s.withCredentials=!!o.withCredentials),b&&b!=="json"&&(s.responseType=o.responseType),typeof o.onDownloadProgress=="function"&&s.addEventListener("progress",o.onDownloadProgress),typeof o.onUploadProgress=="function"&&s.upload&&s.upload.addEventListener("progress",o.onUploadProgress),(o.cancelToken||o.signal)&&(t=function(C){s&&(m(!C||C&&C.type?new c("canceled"):C),s.abort(),s=null)},o.cancelToken&&o.cancelToken.subscribe(t),o.signal&&(o.signal.aborted?t():o.signal.addEventListener("abort",t))),i||(i=null),s.send(i)})}},609:(l,g,e)=>{var d=e(867),v=e(849),n=e(321),r=e(185),p=function y(f){var u=new n(f),_=v(n.prototype.request,u);return d.extend(_,n.prototype,u),d.extend(_,u),_.create=function(c){return y(r(f,c))},_}(e(655));p.Axios=n,p.Cancel=e(263),p.CancelToken=e(972),p.isCancel=e(85),p.VERSION=e(288).version,p.all=function(y){return Promise.all(y)},p.spread=e(713),p.isAxiosError=e(268),l.exports=p,l.exports.default=p},263:l=>{function g(e){this.message=e}g.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},g.prototype.__CANCEL__=!0,l.exports=g},972:(l,g,e)=>{var d=e(263);function v(n){if(typeof n!="function")throw new TypeError("executor must be a function.");var r;this.promise=new Promise(function(y){r=y});var p=this;this.promise.then(function(y){if(p._listeners){var f,u=p._listeners.length;for(f=0;f<u;f++)p._listeners[f](y);p._listeners=null}}),this.promise.then=function(y){var f,u=new Promise(function(_){p.subscribe(_),f=_}).then(y);return u.cancel=function(){p.unsubscribe(f)},u},n(function(y){p.reason||(p.reason=new d(y),r(p.reason))})}v.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},v.prototype.subscribe=function(n){this.reason?n(this.reason):this._listeners?this._listeners.push(n):this._listeners=[n]},v.prototype.unsubscribe=function(n){if(this._listeners){var r=this._listeners.indexOf(n);r!==-1&&this._listeners.splice(r,1)}},v.source=function(){var n;return{token:new v(function(r){n=r}),cancel:n}},l.exports=v},85:l=>{l.exports=function(g){return!(!g||!g.__CANCEL__)}},321:(l,g,e)=>{var d=e(867),v=e(327),n=e(782),r=e(572),p=e(185),y=e(875),f=y.validators;function u(_){this.defaults=_,this.interceptors={request:new n,response:new n}}u.prototype.request=function(_,c){if(typeof _=="string"?(c=c||{}).url=_:c=_||{},!c.url)throw new Error("Provided config url is not valid");(c=p(this.defaults,c)).method?c.method=c.method.toLowerCase():this.defaults.method?c.method=this.defaults.method.toLowerCase():c.method="get";var o=c.transitional;o!==void 0&&y.assertOptions(o,{silentJSONParsing:f.transitional(f.boolean),forcedJSONParsing:f.transitional(f.boolean),clarifyTimeoutError:f.transitional(f.boolean)},!1);var x=[],m=!0;this.interceptors.request.forEach(function(O){typeof O.runWhen=="function"&&O.runWhen(c)===!1||(m=m&&O.synchronous,x.unshift(O.fulfilled,O.rejected))});var t,i=[];if(this.interceptors.response.forEach(function(O){i.push(O.fulfilled,O.rejected)}),!m){var a=[r,void 0];for(Array.prototype.unshift.apply(a,x),a=a.concat(i),t=Promise.resolve(c);a.length;)t=t.then(a.shift(),a.shift());return t}for(var b=c;x.length;){var h=x.shift(),s=x.shift();try{b=h(b)}catch(O){s(O);break}}try{t=r(b)}catch(O){return Promise.reject(O)}for(;i.length;)t=t.then(i.shift(),i.shift());return t},u.prototype.getUri=function(_){if(!_.url)throw new Error("Provided config url is not valid");return _=p(this.defaults,_),v(_.url,_.params,_.paramsSerializer).replace(/^\?/,"")},d.forEach(["delete","get","head","options"],function(_){u.prototype[_]=function(c,o){return this.request(p(o||{},{method:_,url:c,data:(o||{}).data}))}}),d.forEach(["post","put","patch"],function(_){u.prototype[_]=function(c,o,x){return this.request(p(x||{},{method:_,url:c,data:o}))}}),l.exports=u},782:(l,g,e)=>{var d=e(867);function v(){this.handlers=[]}v.prototype.use=function(n,r,p){return this.handlers.push({fulfilled:n,rejected:r,synchronous:!!p&&p.synchronous,runWhen:p?p.runWhen:null}),this.handlers.length-1},v.prototype.eject=function(n){this.handlers[n]&&(this.handlers[n]=null)},v.prototype.forEach=function(n){d.forEach(this.handlers,function(r){r!==null&&n(r)})},l.exports=v},97:(l,g,e)=>{var d=e(793),v=e(303);l.exports=function(n,r){return n&&!d(r)?v(n,r):r}},61:(l,g,e)=>{var d=e(481);l.exports=function(v,n,r,p,y){var f=new Error(v);return d(f,n,r,p,y)}},572:(l,g,e)=>{var d=e(867),v=e(527),n=e(85),r=e(655),p=e(263);function y(f){if(f.cancelToken&&f.cancelToken.throwIfRequested(),f.signal&&f.signal.aborted)throw new p("canceled")}l.exports=function(f){return y(f),f.headers=f.headers||{},f.data=v.call(f,f.data,f.headers,f.transformRequest),f.headers=d.merge(f.headers.common||{},f.headers[f.method]||{},f.headers),d.forEach(["delete","get","head","post","put","patch","common"],function(u){delete f.headers[u]}),(f.adapter||r.adapter)(f).then(function(u){return y(f),u.data=v.call(f,u.data,u.headers,f.transformResponse),u},function(u){return n(u)||(y(f),u&&u.response&&(u.response.data=v.call(f,u.response.data,u.response.headers,f.transformResponse))),Promise.reject(u)})}},481:l=>{l.exports=function(g,e,d,v,n){return g.config=e,d&&(g.code=d),g.request=v,g.response=n,g.isAxiosError=!0,g.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},g}},185:(l,g,e)=>{var d=e(867);l.exports=function(v,n){n=n||{};var r={};function p(o,x){return d.isPlainObject(o)&&d.isPlainObject(x)?d.merge(o,x):d.isPlainObject(x)?d.merge({},x):d.isArray(x)?x.slice():x}function y(o){return d.isUndefined(n[o])?d.isUndefined(v[o])?void 0:p(void 0,v[o]):p(v[o],n[o])}function f(o){if(!d.isUndefined(n[o]))return p(void 0,n[o])}function u(o){return d.isUndefined(n[o])?d.isUndefined(v[o])?void 0:p(void 0,v[o]):p(void 0,n[o])}function _(o){return o in n?p(v[o],n[o]):o in v?p(void 0,v[o]):void 0}var c={url:f,method:f,data:f,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:_};return d.forEach(Object.keys(v).concat(Object.keys(n)),function(o){var x=c[o]||y,m=x(o);d.isUndefined(m)&&x!==_||(r[o]=m)}),r}},26:(l,g,e)=>{var d=e(61);l.exports=function(v,n,r){var p=r.config.validateStatus;r.status&&p&&!p(r.status)?n(d("Request failed with status code "+r.status,r.config,null,r.request,r)):v(r)}},527:(l,g,e)=>{var d=e(867),v=e(655);l.exports=function(n,r,p){var y=this||v;return d.forEach(p,function(f){n=f.call(y,n,r)}),n}},655:(l,g,e)=>{var d=e(867),v=e(16),n=e(481),r={"Content-Type":"application/x-www-form-urlencoded"};function p(u,_){!d.isUndefined(u)&&d.isUndefined(u["Content-Type"])&&(u["Content-Type"]=_)}var y,f={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:((typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(y=e(448)),y),transformRequest:[function(u,_){return v(_,"Accept"),v(_,"Content-Type"),d.isFormData(u)||d.isArrayBuffer(u)||d.isBuffer(u)||d.isStream(u)||d.isFile(u)||d.isBlob(u)?u:d.isArrayBufferView(u)?u.buffer:d.isURLSearchParams(u)?(p(_,"application/x-www-form-urlencoded;charset=utf-8"),u.toString()):d.isObject(u)||_&&_["Content-Type"]==="application/json"?(p(_,"application/json"),function(c,o,x){if(d.isString(c))try{return(0,JSON.parse)(c),d.trim(c)}catch(m){if(m.name!=="SyntaxError")throw m}return(0,JSON.stringify)(c)}(u)):u}],transformResponse:[function(u){var _=this.transitional||f.transitional,c=_&&_.silentJSONParsing,o=_&&_.forcedJSONParsing,x=!c&&this.responseType==="json";if(x||o&&d.isString(u)&&u.length)try{return JSON.parse(u)}catch(m){if(x)throw m.name==="SyntaxError"?n(m,this,"E_JSON_PARSE"):m}return u}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(u){return u>=200&&u<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};d.forEach(["delete","get","head"],function(u){f.headers[u]={}}),d.forEach(["post","put","patch"],function(u){f.headers[u]=d.merge(r)}),l.exports=f},288:l=>{l.exports={version:"0.25.0"}},849:l=>{l.exports=function(g,e){return function(){for(var d=new Array(arguments.length),v=0;v<d.length;v++)d[v]=arguments[v];return g.apply(e,d)}}},327:(l,g,e)=>{var d=e(867);function v(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}l.exports=function(n,r,p){if(!r)return n;var y;if(p)y=p(r);else if(d.isURLSearchParams(r))y=r.toString();else{var f=[];d.forEach(r,function(_,c){_!=null&&(d.isArray(_)?c+="[]":_=[_],d.forEach(_,function(o){d.isDate(o)?o=o.toISOString():d.isObject(o)&&(o=JSON.stringify(o)),f.push(v(c)+"="+v(o))}))}),y=f.join("&")}if(y){var u=n.indexOf("#");u!==-1&&(n=n.slice(0,u)),n+=(n.indexOf("?")===-1?"?":"&")+y}return n}},303:l=>{l.exports=function(g,e){return e?g.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):g}},372:(l,g,e)=>{var d=e(867);l.exports=d.isStandardBrowserEnv()?{write:function(v,n,r,p,y,f){var u=[];u.push(v+"="+encodeURIComponent(n)),d.isNumber(r)&&u.push("expires="+new Date(r).toGMTString()),d.isString(p)&&u.push("path="+p),d.isString(y)&&u.push("domain="+y),f===!0&&u.push("secure"),document.cookie=u.join("; ")},read:function(v){var n=document.cookie.match(new RegExp("(^|;\\s*)("+v+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(v){this.write(v,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},793:l=>{l.exports=function(g){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(g)}},268:(l,g,e)=>{var d=e(867);l.exports=function(v){return d.isObject(v)&&v.isAxiosError===!0}},985:(l,g,e)=>{var d=e(867);l.exports=d.isStandardBrowserEnv()?function(){var v,n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function p(y){var f=y;return n&&(r.setAttribute("href",f),f=r.href),r.setAttribute("href",f),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return v=p(window.location.href),function(y){var f=d.isString(y)?p(y):y;return f.protocol===v.protocol&&f.host===v.host}}():function(){return!0}},16:(l,g,e)=>{var d=e(867);l.exports=function(v,n){d.forEach(v,function(r,p){p!==n&&p.toUpperCase()===n.toUpperCase()&&(v[n]=r,delete v[p])})}},109:(l,g,e)=>{var d=e(867),v=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];l.exports=function(n){var r,p,y,f={};return n&&d.forEach(n.split(`
`),function(u){if(y=u.indexOf(":"),r=d.trim(u.substr(0,y)).toLowerCase(),p=d.trim(u.substr(y+1)),r){if(f[r]&&v.indexOf(r)>=0)return;f[r]=r==="set-cookie"?(f[r]?f[r]:[]).concat([p]):f[r]?f[r]+", "+p:p}}),f}},713:l=>{l.exports=function(g){return function(e){return g.apply(null,e)}}},875:(l,g,e)=>{var d=e(288).version,v={};["object","boolean","number","function","string","symbol"].forEach(function(r,p){v[r]=function(y){return typeof y===r||"a"+(p<1?"n ":" ")+r}});var n={};v.transitional=function(r,p,y){function f(u,_){return"[Axios v"+d+"] Transitional option '"+u+"'"+_+(y?". "+y:"")}return function(u,_,c){if(r===!1)throw new Error(f(_," has been removed"+(p?" in "+p:"")));return p&&!n[_]&&(n[_]=!0,console.warn(f(_," has been deprecated since v"+p+" and will be removed in the near future"))),!r||r(u,_,c)}},l.exports={assertOptions:function(r,p,y){if(typeof r!="object")throw new TypeError("options must be an object");for(var f=Object.keys(r),u=f.length;u-- >0;){var _=f[u],c=p[_];if(c){var o=r[_],x=o===void 0||c(o,_,r);if(x!==!0)throw new TypeError("option "+_+" must be "+x)}else if(y!==!0)throw Error("Unknown option "+_)}},validators:v}},867:(l,g,e)=>{var d=e(849),v=Object.prototype.toString;function n(c){return Array.isArray(c)}function r(c){return c===void 0}function p(c){return v.call(c)==="[object ArrayBuffer]"}function y(c){return c!==null&&typeof c=="object"}function f(c){if(v.call(c)!=="[object Object]")return!1;var o=Object.getPrototypeOf(c);return o===null||o===Object.prototype}function u(c){return v.call(c)==="[object Function]"}function _(c,o){if(c!=null)if(typeof c!="object"&&(c=[c]),n(c))for(var x=0,m=c.length;x<m;x++)o.call(null,c[x],x,c);else for(var t in c)Object.prototype.hasOwnProperty.call(c,t)&&o.call(null,c[t],t,c)}l.exports={isArray:n,isArrayBuffer:p,isBuffer:function(c){return c!==null&&!r(c)&&c.constructor!==null&&!r(c.constructor)&&typeof c.constructor.isBuffer=="function"&&c.constructor.isBuffer(c)},isFormData:function(c){return v.call(c)==="[object FormData]"},isArrayBufferView:function(c){return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?ArrayBuffer.isView(c):c&&c.buffer&&p(c.buffer)},isString:function(c){return typeof c=="string"},isNumber:function(c){return typeof c=="number"},isObject:y,isPlainObject:f,isUndefined:r,isDate:function(c){return v.call(c)==="[object Date]"},isFile:function(c){return v.call(c)==="[object File]"},isBlob:function(c){return v.call(c)==="[object Blob]"},isFunction:u,isStream:function(c){return y(c)&&u(c.pipe)},isURLSearchParams:function(c){return v.call(c)==="[object URLSearchParams]"},isStandardBrowserEnv:function(){return(typeof navigator=="undefined"||navigator.product!=="ReactNative"&&navigator.product!=="NativeScript"&&navigator.product!=="NS")&&typeof window!="undefined"&&typeof document!="undefined"},forEach:_,merge:function c(){var o={};function x(i,a){f(o[a])&&f(i)?o[a]=c(o[a],i):f(i)?o[a]=c({},i):n(i)?o[a]=i.slice():o[a]=i}for(var m=0,t=arguments.length;m<t;m++)_(arguments[m],x);return o},extend:function(c,o,x){return _(o,function(m,t){c[t]=x&&typeof m=="function"?d(m,x):m}),c},trim:function(c){return c.trim?c.trim():c.replace(/^\s+|\s+$/g,"")},stripBOM:function(c){return c.charCodeAt(0)===65279&&(c=c.slice(1)),c}}},187:l=>{var g,e=typeof Reflect=="object"?Reflect:null,d=e&&typeof e.apply=="function"?e.apply:function(t,i,a){return Function.prototype.apply.call(t,i,a)};g=e&&typeof e.ownKeys=="function"?e.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var v=Number.isNaN||function(t){return t!=t};function n(){n.init.call(this)}l.exports=n,l.exports.once=function(t,i){return new Promise(function(a,b){function h(O){t.removeListener(i,s),b(O)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",h),a([].slice.call(arguments))}m(t,i,s,{once:!0}),i!=="error"&&function(O,E,w){typeof O.on=="function"&&m(O,"error",E,{once:!0})}(t,h)})},n.EventEmitter=n,n.prototype._events=void 0,n.prototype._eventsCount=0,n.prototype._maxListeners=void 0;var r=10;function p(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function y(t){return t._maxListeners===void 0?n.defaultMaxListeners:t._maxListeners}function f(t,i,a,b){var h,s,O,E;if(p(a),(s=t._events)===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",i,a.listener?a.listener:a),s=t._events),O=s[i]),O===void 0)O=s[i]=a,++t._eventsCount;else if(typeof O=="function"?O=s[i]=b?[a,O]:[O,a]:b?O.unshift(a):O.push(a),(h=y(t))>0&&O.length>h&&!O.warned){O.warned=!0;var w=new Error("Possible EventEmitter memory leak detected. "+O.length+" "+String(i)+" listeners added. Use emitter.setMaxListeners() to increase limit");w.name="MaxListenersExceededWarning",w.emitter=t,w.type=i,w.count=O.length,E=w,console&&console.warn&&console.warn(E)}return t}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _(t,i,a){var b={fired:!1,wrapFn:void 0,target:t,type:i,listener:a},h=u.bind(b);return h.listener=a,b.wrapFn=h,h}function c(t,i,a){var b=t._events;if(b===void 0)return[];var h=b[i];return h===void 0?[]:typeof h=="function"?a?[h.listener||h]:[h]:a?function(s){for(var O=new Array(s.length),E=0;E<O.length;++E)O[E]=s[E].listener||s[E];return O}(h):x(h,h.length)}function o(t){var i=this._events;if(i!==void 0){var a=i[t];if(typeof a=="function")return 1;if(a!==void 0)return a.length}return 0}function x(t,i){for(var a=new Array(i),b=0;b<i;++b)a[b]=t[b];return a}function m(t,i,a,b){if(typeof t.on=="function")b.once?t.once(i,a):t.on(i,a);else{if(typeof t.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(i,function h(s){b.once&&t.removeEventListener(i,h),a(s)})}}Object.defineProperty(n,"defaultMaxListeners",{enumerable:!0,get:function(){return r},set:function(t){if(typeof t!="number"||t<0||v(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");r=t}}),n.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},n.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||v(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},n.prototype.getMaxListeners=function(){return y(this)},n.prototype.emit=function(t){for(var i=[],a=1;a<arguments.length;a++)i.push(arguments[a]);var b=t==="error",h=this._events;if(h!==void 0)b=b&&h.error===void 0;else if(!b)return!1;if(b){var s;if(i.length>0&&(s=i[0]),s instanceof Error)throw s;var O=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw O.context=s,O}var E=h[t];if(E===void 0)return!1;if(typeof E=="function")d(E,this,i);else{var w=E.length,j=x(E,w);for(a=0;a<w;++a)d(j[a],this,i)}return!0},n.prototype.addListener=function(t,i){return f(this,t,i,!1)},n.prototype.on=n.prototype.addListener,n.prototype.prependListener=function(t,i){return f(this,t,i,!0)},n.prototype.once=function(t,i){return p(i),this.on(t,_(this,t,i)),this},n.prototype.prependOnceListener=function(t,i){return p(i),this.prependListener(t,_(this,t,i)),this},n.prototype.removeListener=function(t,i){var a,b,h,s,O;if(p(i),(b=this._events)===void 0)return this;if((a=b[t])===void 0)return this;if(a===i||a.listener===i)--this._eventsCount==0?this._events=Object.create(null):(delete b[t],b.removeListener&&this.emit("removeListener",t,a.listener||i));else if(typeof a!="function"){for(h=-1,s=a.length-1;s>=0;s--)if(a[s]===i||a[s].listener===i){O=a[s].listener,h=s;break}if(h<0)return this;h===0?a.shift():function(E,w){for(;w+1<E.length;w++)E[w]=E[w+1];E.pop()}(a,h),a.length===1&&(b[t]=a[0]),b.removeListener!==void 0&&this.emit("removeListener",t,O||i)}return this},n.prototype.off=n.prototype.removeListener,n.prototype.removeAllListeners=function(t){var i,a,b;if((a=this._events)===void 0)return this;if(a.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):a[t]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete a[t]),this;if(arguments.length===0){var h,s=Object.keys(a);for(b=0;b<s.length;++b)(h=s[b])!=="removeListener"&&this.removeAllListeners(h);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(i=a[t])=="function")this.removeListener(t,i);else if(i!==void 0)for(b=i.length-1;b>=0;b--)this.removeListener(t,i[b]);return this},n.prototype.listeners=function(t){return c(this,t,!0)},n.prototype.rawListeners=function(t){return c(this,t,!1)},n.listenerCount=function(t,i){return typeof t.listenerCount=="function"?t.listenerCount(i):o.call(t,i)},n.prototype.listenerCount=o,n.prototype.eventNames=function(){return this._eventsCount>0?g(this._events):[]}},230:l=>{l.exports=typeof self=="object"?self.FormData:window.FormData},587:l=>{function g(e,d){return Object.prototype.hasOwnProperty.call(e,d)}l.exports=function(e,d,v,n){d=d||"&",v=v||"=";var r={};if(typeof e!="string"||e.length===0)return r;var p=/\+/g;e=e.split(d);var y=1e3;n&&typeof n.maxKeys=="number"&&(y=n.maxKeys);var f=e.length;y>0&&f>y&&(f=y);for(var u=0;u<f;++u){var _,c,o,x,m=e[u].replace(p,"%20"),t=m.indexOf(v);t>=0?(_=m.substr(0,t),c=m.substr(t+1)):(_=m,c=""),o=decodeURIComponent(_),x=decodeURIComponent(c),g(r,o)?Array.isArray(r[o])?r[o].push(x):r[o]=[r[o],x]:r[o]=x}return r}},361:l=>{var g=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};l.exports=function(e,d,v,n){return d=d||"&",v=v||"=",e===null&&(e=void 0),typeof e=="object"?Object.keys(e).map(function(r){var p=encodeURIComponent(g(r))+v;return Array.isArray(e[r])?e[r].map(function(y){return p+encodeURIComponent(g(y))}).join(d):p+encodeURIComponent(g(e[r]))}).join(d):n?encodeURIComponent(g(n))+v+encodeURIComponent(g(e)):""}},673:(l,g,e)=>{g.decode=g.parse=e(587),g.encode=g.stringify=e(361)},511:function(l,g,e){var d;l=e.nmd(l),function(v){g&&g.nodeType,l&&l.nodeType;var n=typeof e.g=="object"&&e.g;n.global!==n&&n.window!==n&&n.self;var r,p=2147483647,y=36,f=/^xn--/,u=/[^\x20-\x7E]/,_=/[\x2E\u3002\uFF0E\uFF61]/g,c={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},o=Math.floor,x=String.fromCharCode;function m(w){throw RangeError(c[w])}function t(w,j){for(var L=w.length,C=[];L--;)C[L]=j(w[L]);return C}function i(w,j){var L=w.split("@"),C="";return L.length>1&&(C=L[0]+"@",w=L[1]),C+t((w=w.replace(_,".")).split("."),j).join(".")}function a(w){for(var j,L,C=[],A=0,S=w.length;A<S;)(j=w.charCodeAt(A++))>=55296&&j<=56319&&A<S?(64512&(L=w.charCodeAt(A++)))==56320?C.push(((1023&j)<<10)+(1023&L)+65536):(C.push(j),A--):C.push(j);return C}function b(w){return t(w,function(j){var L="";return j>65535&&(L+=x((j-=65536)>>>10&1023|55296),j=56320|1023&j),L+x(j)}).join("")}function h(w,j){return w+22+75*(w<26)-((j!=0)<<5)}function s(w,j,L){var C=0;for(w=L?o(w/700):w>>1,w+=o(w/j);w>455;C+=y)w=o(w/35);return o(C+36*w/(w+38))}function O(w){var j,L,C,A,S,R,P,U,B,H,k,$=[],K=w.length,q=0,M=128,I=72;for((L=w.lastIndexOf("-"))<0&&(L=0),C=0;C<L;++C)w.charCodeAt(C)>=128&&m("not-basic"),$.push(w.charCodeAt(C));for(A=L>0?L+1:0;A<K;){for(S=q,R=1,P=y;A>=K&&m("invalid-input"),((U=(k=w.charCodeAt(A++))-48<10?k-22:k-65<26?k-65:k-97<26?k-97:y)>=y||U>o((p-q)/R))&&m("overflow"),q+=U*R,!(U<(B=P<=I?1:P>=I+26?26:P-I));P+=y)R>o(p/(H=y-B))&&m("overflow"),R*=H;I=s(q-S,j=$.length+1,S==0),o(q/j)>p-M&&m("overflow"),M+=o(q/j),q%=j,$.splice(q++,0,M)}return b($)}function E(w){var j,L,C,A,S,R,P,U,B,H,k,$,K,q,M,I=[];for($=(w=a(w)).length,j=128,L=0,S=72,R=0;R<$;++R)(k=w[R])<128&&I.push(x(k));for(C=A=I.length,A&&I.push("-");C<$;){for(P=p,R=0;R<$;++R)(k=w[R])>=j&&k<P&&(P=k);for(P-j>o((p-L)/(K=C+1))&&m("overflow"),L+=(P-j)*K,j=P,R=0;R<$;++R)if((k=w[R])<j&&++L>p&&m("overflow"),k==j){for(U=L,B=y;!(U<(H=B<=S?1:B>=S+26?26:B-S));B+=y)M=U-H,q=y-H,I.push(x(h(H+M%q,0))),U=o(M/q);I.push(x(h(U,0))),S=s(L,K,C==A),L=0,++C}++L,++j}return I.join("")}r={version:"1.3.2",ucs2:{decode:a,encode:b},decode:O,encode:E,toASCII:function(w){return i(w,function(j){return u.test(j)?"xn--"+E(j):j})},toUnicode:function(w){return i(w,function(j){return f.test(j)?O(j.slice(4).toLowerCase()):j})}},(d=function(){return r}.call(g,e,g,l))===void 0||(l.exports=d)}()},575:(l,g,e)=>{e(511),e(502),e(673)},502:l=>{l.exports={isString:function(g){return typeof g=="string"},isObject:function(g){return typeof g=="object"&&g!==null},isNull:function(g){return g===null},isNullOrUndefined:function(g){return g==null}}}},J={};function T(l){var g=J[l];if(g!==void 0)return g.exports;var e=J[l]={id:l,loaded:!1,exports:{}};return G[l].call(e.exports,e,e.exports,T),e.loaded=!0,e.exports}T.n=l=>{var g=l&&l.__esModule?()=>l.default:()=>l;return T.d(g,{a:g}),g},T.d=(l,g)=>{for(var e in g)T.o(g,e)&&!T.o(l,e)&&Object.defineProperty(l,e,{enumerable:!0,get:g[e]})},T.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),T.o=(l,g)=>Object.prototype.hasOwnProperty.call(l,g),T.nmd=l=>(l.paths=[],l.children||(l.children=[]),l);var V={};return(()=>{function l(x,m,t,i){return new(t||(t=Promise))(function(a,b){function h(E){try{O(i.next(E))}catch(w){b(w)}}function s(E){try{O(i.throw(E))}catch(w){b(w)}}function O(E){var w;E.done?a(E.value):(w=E.value,w instanceof t?w:new t(function(j){j(w)})).then(h,s)}O((i=i.apply(x,m||[])).next())})}T.d(V,{default:()=>o});var g=T(187);const e="https://api.imgur.com";var d=T(230),v=T.n(d);function n(x){const m=new(v());if(typeof x=="string")return m.append("image",x),m;for(const[t,i]of Object.entries(x)){const a=["base64","stream"];a.indexOf(t)!==-1?a.indexOf(x.type)!==-1&&m.append(t,x):i&&m.append(t,i)}return m.getHeaders=m.getHeaders?m.getHeaders:()=>({"Content-Type":"multipart/form-data"}),m}function r(x){var m,t,i,a,b,h,s,O,E,w;let j,L=!0,C=200;const A=x&&(x.status!==void 0||((m=x.data)===null||m===void 0?void 0:m.status)!==void 0)&&x.data!==void 0,S=A&&!!x.data.success,R=A&&!S&&(((t=x.data.data)===null||t===void 0?void 0:t.error)!==void 0||x.data.errors!==void 0);var P;return x===void 0?(j="response was empty",C=500,L=!1):typeof x=="string"?(j=x,C=500,L=!1):S?(C=x.data.status,j=x.data.data.error?x.data.data.error:x.data.data):(L=!1,C=(h=(b=(a=(i=x.data.data)===null||i===void 0?void 0:i.error)===null||a===void 0?void 0:a.code)!==null&&b!==void 0?b:x.status)!==null&&h!==void 0?h:x.data.status,P=R?(O=(s=x.data.errors)!==null&&s!==void 0?s:x.data.data.error.message)!==null&&O!==void 0?O:x.data.data.error:(w=(E=x.data.data)!==null&&E!==void 0?E:x.data.message)!==null&&w!==void 0?w:x.data,j=Array.isArray(P)?P.map(U=>R?U.detail:U.data):P),{data:j,status:C,success:L}}var p=T(575);const y={section:"hot",sort:"viral"},f=["q_all","q_any","q_exactly","q_not","q_type","q_size_px"];var u=T(669),_=T.n(u);class c extends g.EventEmitter{constructor(m){var t,i,a;super(),this.credentials=m,this.credentials.rapidApiHost=!((t=m.rapidApiKey)===null||t===void 0)&&t.length?(i=m.rapidApiHost)!==null&&i!==void 0?i:"imgur-apiv3.p.rapidapi.com":m.rapidApiHost;const b=typeof window!="undefined"?{}:{"user-agent":"imgur (https://github.com/keneucker/imgur)"};this.plainFetcher=_().create({baseURL:e,headers:b,responseType:"json"}),this.fetcher=_().create({baseURL:!((a=m.rapidApiKey)===null||a===void 0)&&a.length?`https://${this.credentials.rapidApiHost}`:e,headers:b,responseType:"json"}),this.fetcher.interceptors.request.use(h=>l(this,void 0,void 0,function*(){var s;return h.headers=h.headers?h.headers:{},h.headers.authorization=yield function(O){return l(this,void 0,void 0,function*(){if(O.credentials.accessToken!==void 0)return`Bearer ${O.credentials.accessToken}`;const{clientId:E,clientSecret:w,refreshToken:j}=O.credentials;if(O.credentials.refreshToken!==void 0){const L={url:"oauth2/token",baseURL:e,method:"POST",data:{client_id:E,client_secret:w,refresh_token:j,grant_type:"refresh_token"}},C=yield O.plainRequest(L);if(C.status===200&&C.data){const{access_token:A,refresh_token:S}=C.data;return O.credentials.accessToken=A,O.credentials.refreshToken=S,`Bearer ${A}`}}return O.credentials.clientId!==void 0?`Client-ID ${E}`:null})}(this),!((s=m.rapidApiKey)===null||s===void 0)&&s.length&&(h.headers["x-rapidapi-host"]=m.rapidApiHost,h.headers["x-rapidapi-key"]=m.rapidApiKey),h}),h=>Promise.reject(h))}plainRequest(m){return this.plainFetcher(m)}request(m={}){return this.fetcher(m)}deleteImage(m){return function(t,i){return l(this,void 0,void 0,function*(){const a=`3/image/${i}`;return r(yield t.request({url:a,method:"DELETE"}).catch(b=>b.response))})}(this,m)}favoriteImage(m){return function(t,i){return l(this,void 0,void 0,function*(){const a=`3/image/${i}/favorite`;return r(yield t.request({url:a,method:"POST"}).catch(b=>b.response))})}(this,m)}getAlbum(m){return function(t,i){return l(this,void 0,void 0,function*(){const a=`3/album/${i}`;return r(yield t.request({url:a}).catch(b=>b.response))})}(this,m)}getAccount(m){return function(t,i){return l(this,void 0,void 0,function*(){const a=`3/account/${i}`;return r(yield t.plainRequest({url:a}).catch(b=>b.response))})}(this,m)}getAlbums(m,t){return function(i,a,b){return l(this,void 0,void 0,function*(){const h=`3/account/${a}/albums/${b!=null?b:""}`;return r(yield i.request({url:h}).catch(s=>s.response))})}(this,m,t)}createAlbum(m,t){return function(i,a,b){var h,s;return l(this,void 0,void 0,function*(){const O=n({title:a,description:b}),E=yield i.request({url:"3/album",headers:O.getHeaders(),method:"POST",data:O}).catch(w=>w.response);return((h=E.data)===null||h===void 0?void 0:h.success)&&((s=E.data)===null||s===void 0?void 0:s.data)&&(E.data.data.title=a,E.data.data.description=b),r(E)})}(this,m,t)}getAlbumsIds(m,t){return function(i,a,b){return l(this,void 0,void 0,function*(){const h=`3/account/${a}/albums/ids/${b!=null?b:""}`;return r(yield i.request({url:h}).catch(s=>s.response))})}(this,m,t)}getGallery(m){return function(t,i=y){return l(this,void 0,void 0,function*(){const{pathname:a}=function(h){const s=Object.assign({},y,h);let O=`${s.section}`;s.sort&&(O+=`/${s.sort}`),s.section==="top"&&s.window&&(O+=`/${s.window}`),s.page&&(O+=`/${s.page}`);const E=new p.URL(`${e}/3/gallery/${O}`);return s.showViral!==void 0&&E.searchParams.append("showViral",s.showViral.toString()),s.mature!==void 0&&E.searchParams.append("mature",s.mature.toString()),s.album_previews!==void 0&&E.searchParams.append("album_previews",s.album_previews.toString()),E}(i),b=a.slice(1);return r(yield t.request({url:b}).catch(h=>h.response))})}(this,m)}getSubredditGallery(m){return function(t,i){return l(this,void 0,void 0,function*(){const{pathname:a}=function(h){let s=`${h.subreddit}`;return h.sort&&(s+=`/${h.sort}`),h.sort==="top"&&h.window&&(s+=`/${h.window}`),h.page&&(s+=`/${h.page}`),new p.URL(`${e}/3/gallery/r/${s}`)}(i),b=a.slice(1);return r(yield t.request({url:b}).catch(h=>h.response))})}(this,m)}searchGallery(m){return function(t,i){return l(this,void 0,void 0,function*(){const{pathname:a}=function(h){let s="";h.sort&&(s+=`/${h.sort}`),h.sort==="top"&&h.window&&(s+=`/${h.window}`),h.page&&(s+=`/${h.page}`);const O=new p.URL(`${e}/3/gallery/search${s}`);if(f.forEach(E=>{var w;!((w=h[E])===null||w===void 0)&&w.length&&O.searchParams.append(E,h[E])}),!O.search){const E=h.q||h.query;if(!E)throw new Error("No query was provided");O.searchParams.append("q",E)}return O}(i),b=a.slice(1);return r(yield t.request({url:b}).catch(h=>h.response))})}(this,m)}getImage(m){return function(t,i){return l(this,void 0,void 0,function*(){const a=`3/image/${i}`;return r(yield t.request({url:a}).catch(b=>b.response))})}(this,m)}updateImage(m){return function(t,i){return l(this,void 0,void 0,function*(){if(typeof(a=i).title!="string"&&typeof a.description!="string")throw new Error("Update requires a title and/or description");var a;const b=`3/image/${i.imageHash}`,h=n(i);return new Promise(s=>l(this,void 0,void 0,function*(){return s(r(yield t.request({url:b,method:"POST",data:h,headers:h.getHeaders()}).catch(O=>O.response)))}))})}(this,m)}upload(m){return function(t,i){var a;return l(this,void 0,void 0,function*(){const b=n(i),h=i.image,s=typeof h=="string"?h:(a=h.path)!==null&&a!==void 0?a:h.name,O=i.type!=="stream"||!s||s.indexOf(".mp4")===-1&&s.indexOf(".avi")===-1?"3/image":"3/upload";return new Promise(E=>l(this,void 0,void 0,function*(){return E(r(yield t.request({url:O,method:"POST",data:b,headers:b.getHeaders(),onUploadProgress:w=>{t.emit("uploadProgress",Object.assign({},w))}}).catch(w=>w.response)))}))})}(this,m)}}const o=c})(),V.default})()})})(tt);var lt=nt(tt.exports);const dt={class:"max-w-lg mx-auto p-10"},ft=N("h2",{class:"text-xl leading-loose"},"\u5DF2\u4E0A\u50B3\u5716\u7247\u5340",-1),pt={class:"border-b border-stone-600 pb-5 mb-5 grid grid-cols-2 gap-4"},ht={class:"pt-[100%] relative"},vt=["src"],mt={class:"p-4"},gt=["onClick"],yt={class:"block bg-stone-300 py-10 mb-10 rounded cursor-pointer hover:opacity-80"},bt=N("div",{class:"text-center text-lg"},"\u4E0A\u50B3\u5716\u7247",-1),wt=["onInput"],xt={class:"grid grid-cols-2 gap-4"},_t={class:"shadow-md rounded-br-3xl"},Ot={class:"pt-[100%] relative"},Et=["src"],jt={class:"p-4"},Ct=["onClick"],Lt={key:0,class:"p-8 text-right"},Rt={__name:"AddImgView",setup(W){const z=rt(),{loading:G,list:J,reload:T}=ct({id:z.id}),V=new lt({clientId:"3466d7179394743"}),l=async()=>{const n=[];for(let r=0;r<d.value.length;r++){const y=d.value[r].slice(22),{data:{link:f}}=await V.upload({type:"base64",image:y});n.push({img_url:f,owner_id:z.id})}await Z.from("gallery").insert(n),d.value=[],T()},g=async n=>{await Z.from("gallery").update({isActive:!1}).eq("id",n),T()},e=n=>{d.value.splice(n,1)},d=ot([]),v=async n=>{const r=n.target.files;Object.values(r).forEach(p=>{const y=new FileReader;y.addEventListener("load",f=>{d.value.push(f.target.result)}),y.readAsDataURL(p)})};return(n,r)=>{const p=it("auto-animate");return F(),D("div",dt,[ft,X((F(),D("ul",pt,[(F(!0),D(Q,null,Y(st(J),y=>(F(),D("li",{key:y.id,class:"shadow-md rounded-br-3xl"},[N("figure",ht,[N("img",{class:"w-full object-contain absolute top-0 left-0 h-full",src:y.img_url,alt:""},null,8,vt)]),N("div",mt,[N("button",{onClick:f=>g(y.id),class:"font-bold hover:opacity-80 text-white bg-primary leading-loose rounded-xl w-10",type:"button"},"\u522A\u9664",8,gt)])]))),128))])),[[p]]),N("label",yt,[bt,N("input",{type:"file",class:"hidden",accept:".jpg, .jpeg, .png",multiple:"",onInput:at(v,["prevent"])},null,40,wt)]),X((F(),D("ul",xt,[(F(!0),D(Q,null,Y(d.value,(y,f)=>(F(),D("li",_t,[N("figure",Ot,[N("img",{class:"w-full object-contain absolute top-0 left-0 h-full",src:y,alt:""},null,8,Et)]),N("div",jt,[N("button",{onClick:u=>e(f),class:"font-bold hover:opacity-80 text-white bg-primary leading-loose rounded-xl w-10",type:"button"},"\u53D6\u6D88",8,Ct)])]))),256))])),[[p]]),d.value.length>0?(F(),D("div",Lt,[N("button",{onClick:l,class:"text-md font-bold hover:opacity-80 text-white bg-primary py-4 w-24 rounded-full",type:"button"},"\u4E0A\u50B3\u5716\u7247")])):ut("",!0)])}}};export{Rt as default};
