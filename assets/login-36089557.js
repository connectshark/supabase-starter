import{n as y,p as w,u as v,h as k,q as V,r as N,o as l,c as n,a as e,l as q,m,v as b,d as s,f as B,g as u,w as p,b as i,F as C}from"./index-c994af60.js";const S=e("h2",{class:"bg-primary py-10 text-white text-center font-bold text-3xl mb-8 leading-loose"},"登入",-1),U={class:"max-w-lg mx-auto w-5/6"},D=["onSubmit"],E={class:"mb-4"},F=["disabled"],L={class:"mb-4"},M=["disabled"],T={class:"flex justify-end items-center space-x-6"},j={key:0,class:"text-amber-600"},R=["disabled"],z={key:0},A={key:1},G=e("i",{class:"bx bx-loader-alt bx-spin"},null,-1),H=[G],I={class:"text-center"},J={class:"text-stone-600 mb-4"},Q={__name:"login",setup(K){const t=y({email:"",password:""}),{loading:o,login:x,err:h,result:r}=w(),f=async()=>{await x({email:t.email,password:t.password})},_=v(),g=k();return V(()=>{r.value!==null&&(_.id=r.value.id,_.email=r.value.email,g.push("/"))}),(O,a)=>{const d=N("router-link");return l(),n(C,null,[S,e("div",U,[e("form",{class:"mb-4",onSubmit:q(f,["prevent"])},[e("p",E,[m(e("input",{disabled:s(o),"onUpdate:modelValue":a[0]||(a[0]=c=>t.email=c),required:"",class:"focus:ring-2 disabled:text-stone-400 block w-full text-xl text-stone-700 border-none py-6 px-10 rounded-full ring-primary bg-gray-100",placeholder:"信箱",type:"email"},null,8,F),[[b,t.email,void 0,{trim:!0}]])]),e("p",L,[m(e("input",{disabled:s(o),"onUpdate:modelValue":a[1]||(a[1]=c=>t.password=c),required:"",class:"focus:ring-2 disabled:text-stone-400 block w-full text-xl text-stone-700 border-none py-6 px-10 rounded-full ring-primary bg-gray-100",placeholder:"密碼",type:"password"},null,8,M),[[b,t.password,void 0,{trim:!0}]])]),e("div",T,[s(h)?(l(),n("span",j,"好像哪裡出錯了")):B("",!0),u(d,{to:"/forgot",disabled:s(o),class:"text-stone-600 hover:underline",type:"button"},{default:p(()=>[i("忘記密碼?")]),_:1},8,["disabled"]),e("button",{disabled:s(o),class:"text-md font-bold hover:opacity-80 text-white bg-primary py-4 w-24 rounded-full",type:"submit"},[s(o)?(l(),n("span",A,H)):(l(),n("span",z,"登入"))],8,R)])],40,D),e("div",I,[e("p",J,[i("還沒有帳號？ "),u(d,{replace:"",to:"/signup",class:"underline"},{default:p(()=>[i("立刻註冊")]),_:1})]),e("p",null,[u(d,{class:"underline",to:"/"},{default:p(()=>[i("回首頁")]),_:1})])])])],64)}}};export{Q as default};
