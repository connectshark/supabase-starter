import{r as W,s as Q,b as ot,d as Z,e as it,g as st,f as at,o as G,c as Y,a as D,h as ut,F as ct,i as lt,t as X}from"./index.3fa6d040.js";const dt=()=>{const A=W(!1),N=W([]),T=W(null),U=()=>{A.value=!0,N.value=[],T.value=null,Q.from("gallery").select("*").eq("active",!0).then(({data:R,error:F})=>{A.value=!1,N.value=R,T.value=F})};return U(),{loading:A,list:N,err:T,reload:U}};var tt;const ft=typeof window!="undefined";ft&&((tt=window==null?void 0:window.navigator)==null?void 0:tt.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function et(A){return typeof A=="function"?A():Z(A)}const pt=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,ht=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a{1,2}|A{1,2}|m{1,2}|s{1,2}|Z{1,2}|SSS/g,vt=(A,N,T,U)=>{let R=A<12?"AM":"PM";return U&&(R=R.split("").reduce((F,a)=>F+=`${a}.`,"")),T?R.toLowerCase():R},mt=(A,N,T={})=>{var U;const R=A.getFullYear(),F=A.getMonth(),a=A.getDate(),m=A.getHours(),e=A.getMinutes(),d=A.getSeconds(),f=A.getMilliseconds(),r=A.getDay(),n=(U=T.customMeridiem)!=null?U:vt,p={YY:()=>String(R).slice(-2),YYYY:()=>R,M:()=>F+1,MM:()=>`${F+1}`.padStart(2,"0"),MMM:()=>A.toLocaleDateString(T.locales,{month:"short"}),MMMM:()=>A.toLocaleDateString(T.locales,{month:"long"}),D:()=>String(a),DD:()=>`${a}`.padStart(2,"0"),H:()=>String(m),HH:()=>`${m}`.padStart(2,"0"),h:()=>`${m%12||12}`.padStart(1,"0"),hh:()=>`${m%12||12}`.padStart(2,"0"),m:()=>String(e),mm:()=>`${e}`.padStart(2,"0"),s:()=>String(d),ss:()=>`${d}`.padStart(2,"0"),SSS:()=>`${f}`.padStart(3,"0"),d:()=>r,dd:()=>A.toLocaleDateString(T.locales,{weekday:"narrow"}),ddd:()=>A.toLocaleDateString(T.locales,{weekday:"short"}),dddd:()=>A.toLocaleDateString(T.locales,{weekday:"long"}),A:()=>n(m,e),AA:()=>n(m,e,!1,!0),a:()=>n(m,e,!0),aa:()=>n(m,e,!0,!0)};return N.replace(ht,(x,h)=>h||p[x]())},gt=A=>{if(A===null)return new Date(NaN);if(A===void 0)return new Date;if(A instanceof Date)return new Date(A);if(typeof A=="string"&&!/Z$/i.test(A)){const N=A.match(pt);if(N){const T=N[2]-1||0,U=(N[7]||"0").substring(0,3);return new Date(N[1],T,N[3]||1,N[4]||0,N[5]||0,N[6]||0,U)}}return new Date(A)};function nt(A,N="HH:mm:ss",T={}){return ot(()=>mt(gt(et(A)),et(N),T))}var rt={exports:{}};/*! For license information please see imgur.js.LICENSE.txt */(function(A,N){(function(T,U){A.exports=U()})(it,function(){return(()=>{var T={669:(a,m,e)=>{a.exports=e(609)},448:(a,m,e)=>{var d=e(867),f=e(26),r=e(372),n=e(327),p=e(97),x=e(109),h=e(985),l=e(61),_=e(655),c=e(263);a.exports=function(o){return new Promise(function(b,g){var t,i=o.data,u=o.headers,y=o.responseType;function v(){o.cancelToken&&o.cancelToken.unsubscribe(t),o.signal&&o.signal.removeEventListener("abort",t)}d.isFormData(i)&&delete u["Content-Type"];var s=new XMLHttpRequest;if(o.auth){var E=o.auth.username||"",O=o.auth.password?unescape(encodeURIComponent(o.auth.password)):"";u.Authorization="Basic "+btoa(E+":"+O)}var w=p(o.baseURL,o.url);function S(){if(s){var j="getAllResponseHeaders"in s?x(s.getAllResponseHeaders()):null,C={data:y&&y!=="text"&&y!=="json"?s.response:s.responseText,status:s.status,statusText:s.statusText,headers:j,config:o,request:s};f(function(P){b(P),v()},function(P){g(P),v()},C),s=null}}if(s.open(o.method.toUpperCase(),n(w,o.params,o.paramsSerializer),!0),s.timeout=o.timeout,"onloadend"in s?s.onloadend=S:s.onreadystatechange=function(){s&&s.readyState===4&&(s.status!==0||s.responseURL&&s.responseURL.indexOf("file:")===0)&&setTimeout(S)},s.onabort=function(){s&&(g(l("Request aborted",o,"ECONNABORTED",s)),s=null)},s.onerror=function(){g(l("Network Error",o,null,s)),s=null},s.ontimeout=function(){var j=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded",C=o.transitional||_.transitional;o.timeoutErrorMessage&&(j=o.timeoutErrorMessage),g(l(j,o,C.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",s)),s=null},d.isStandardBrowserEnv()){var L=(o.withCredentials||h(w))&&o.xsrfCookieName?r.read(o.xsrfCookieName):void 0;L&&(u[o.xsrfHeaderName]=L)}"setRequestHeader"in s&&d.forEach(u,function(j,C){i===void 0&&C.toLowerCase()==="content-type"?delete u[C]:s.setRequestHeader(C,j)}),d.isUndefined(o.withCredentials)||(s.withCredentials=!!o.withCredentials),y&&y!=="json"&&(s.responseType=o.responseType),typeof o.onDownloadProgress=="function"&&s.addEventListener("progress",o.onDownloadProgress),typeof o.onUploadProgress=="function"&&s.upload&&s.upload.addEventListener("progress",o.onUploadProgress),(o.cancelToken||o.signal)&&(t=function(j){s&&(g(!j||j&&j.type?new c("canceled"):j),s.abort(),s=null)},o.cancelToken&&o.cancelToken.subscribe(t),o.signal&&(o.signal.aborted?t():o.signal.addEventListener("abort",t))),i||(i=null),s.send(i)})}},609:(a,m,e)=>{var d=e(867),f=e(849),r=e(321),n=e(185),p=function x(h){var l=new r(h),_=f(r.prototype.request,l);return d.extend(_,r.prototype,l),d.extend(_,l),_.create=function(c){return x(n(h,c))},_}(e(655));p.Axios=r,p.Cancel=e(263),p.CancelToken=e(972),p.isCancel=e(85),p.VERSION=e(288).version,p.all=function(x){return Promise.all(x)},p.spread=e(713),p.isAxiosError=e(268),a.exports=p,a.exports.default=p},263:a=>{function m(e){this.message=e}m.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},m.prototype.__CANCEL__=!0,a.exports=m},972:(a,m,e)=>{var d=e(263);function f(r){if(typeof r!="function")throw new TypeError("executor must be a function.");var n;this.promise=new Promise(function(x){n=x});var p=this;this.promise.then(function(x){if(p._listeners){var h,l=p._listeners.length;for(h=0;h<l;h++)p._listeners[h](x);p._listeners=null}}),this.promise.then=function(x){var h,l=new Promise(function(_){p.subscribe(_),h=_}).then(x);return l.cancel=function(){p.unsubscribe(h)},l},r(function(x){p.reason||(p.reason=new d(x),n(p.reason))})}f.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},f.prototype.subscribe=function(r){this.reason?r(this.reason):this._listeners?this._listeners.push(r):this._listeners=[r]},f.prototype.unsubscribe=function(r){if(this._listeners){var n=this._listeners.indexOf(r);n!==-1&&this._listeners.splice(n,1)}},f.source=function(){var r;return{token:new f(function(n){r=n}),cancel:r}},a.exports=f},85:a=>{a.exports=function(m){return!(!m||!m.__CANCEL__)}},321:(a,m,e)=>{var d=e(867),f=e(327),r=e(782),n=e(572),p=e(185),x=e(875),h=x.validators;function l(_){this.defaults=_,this.interceptors={request:new r,response:new r}}l.prototype.request=function(_,c){if(typeof _=="string"?(c=c||{}).url=_:c=_||{},!c.url)throw new Error("Provided config url is not valid");(c=p(this.defaults,c)).method?c.method=c.method.toLowerCase():this.defaults.method?c.method=this.defaults.method.toLowerCase():c.method="get";var o=c.transitional;o!==void 0&&x.assertOptions(o,{silentJSONParsing:h.transitional(h.boolean),forcedJSONParsing:h.transitional(h.boolean),clarifyTimeoutError:h.transitional(h.boolean)},!1);var b=[],g=!0;this.interceptors.request.forEach(function(E){typeof E.runWhen=="function"&&E.runWhen(c)===!1||(g=g&&E.synchronous,b.unshift(E.fulfilled,E.rejected))});var t,i=[];if(this.interceptors.response.forEach(function(E){i.push(E.fulfilled,E.rejected)}),!g){var u=[n,void 0];for(Array.prototype.unshift.apply(u,b),u=u.concat(i),t=Promise.resolve(c);u.length;)t=t.then(u.shift(),u.shift());return t}for(var y=c;b.length;){var v=b.shift(),s=b.shift();try{y=v(y)}catch(E){s(E);break}}try{t=n(y)}catch(E){return Promise.reject(E)}for(;i.length;)t=t.then(i.shift(),i.shift());return t},l.prototype.getUri=function(_){if(!_.url)throw new Error("Provided config url is not valid");return _=p(this.defaults,_),f(_.url,_.params,_.paramsSerializer).replace(/^\?/,"")},d.forEach(["delete","get","head","options"],function(_){l.prototype[_]=function(c,o){return this.request(p(o||{},{method:_,url:c,data:(o||{}).data}))}}),d.forEach(["post","put","patch"],function(_){l.prototype[_]=function(c,o,b){return this.request(p(b||{},{method:_,url:c,data:o}))}}),a.exports=l},782:(a,m,e)=>{var d=e(867);function f(){this.handlers=[]}f.prototype.use=function(r,n,p){return this.handlers.push({fulfilled:r,rejected:n,synchronous:!!p&&p.synchronous,runWhen:p?p.runWhen:null}),this.handlers.length-1},f.prototype.eject=function(r){this.handlers[r]&&(this.handlers[r]=null)},f.prototype.forEach=function(r){d.forEach(this.handlers,function(n){n!==null&&r(n)})},a.exports=f},97:(a,m,e)=>{var d=e(793),f=e(303);a.exports=function(r,n){return r&&!d(n)?f(r,n):n}},61:(a,m,e)=>{var d=e(481);a.exports=function(f,r,n,p,x){var h=new Error(f);return d(h,r,n,p,x)}},572:(a,m,e)=>{var d=e(867),f=e(527),r=e(85),n=e(655),p=e(263);function x(h){if(h.cancelToken&&h.cancelToken.throwIfRequested(),h.signal&&h.signal.aborted)throw new p("canceled")}a.exports=function(h){return x(h),h.headers=h.headers||{},h.data=f.call(h,h.data,h.headers,h.transformRequest),h.headers=d.merge(h.headers.common||{},h.headers[h.method]||{},h.headers),d.forEach(["delete","get","head","post","put","patch","common"],function(l){delete h.headers[l]}),(h.adapter||n.adapter)(h).then(function(l){return x(h),l.data=f.call(h,l.data,l.headers,h.transformResponse),l},function(l){return r(l)||(x(h),l&&l.response&&(l.response.data=f.call(h,l.response.data,l.response.headers,h.transformResponse))),Promise.reject(l)})}},481:a=>{a.exports=function(m,e,d,f,r){return m.config=e,d&&(m.code=d),m.request=f,m.response=r,m.isAxiosError=!0,m.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},m}},185:(a,m,e)=>{var d=e(867);a.exports=function(f,r){r=r||{};var n={};function p(o,b){return d.isPlainObject(o)&&d.isPlainObject(b)?d.merge(o,b):d.isPlainObject(b)?d.merge({},b):d.isArray(b)?b.slice():b}function x(o){return d.isUndefined(r[o])?d.isUndefined(f[o])?void 0:p(void 0,f[o]):p(f[o],r[o])}function h(o){if(!d.isUndefined(r[o]))return p(void 0,r[o])}function l(o){return d.isUndefined(r[o])?d.isUndefined(f[o])?void 0:p(void 0,f[o]):p(void 0,r[o])}function _(o){return o in r?p(f[o],r[o]):o in f?p(void 0,f[o]):void 0}var c={url:h,method:h,data:h,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:_};return d.forEach(Object.keys(f).concat(Object.keys(r)),function(o){var b=c[o]||x,g=b(o);d.isUndefined(g)&&b!==_||(n[o]=g)}),n}},26:(a,m,e)=>{var d=e(61);a.exports=function(f,r,n){var p=n.config.validateStatus;n.status&&p&&!p(n.status)?r(d("Request failed with status code "+n.status,n.config,null,n.request,n)):f(n)}},527:(a,m,e)=>{var d=e(867),f=e(655);a.exports=function(r,n,p){var x=this||f;return d.forEach(p,function(h){r=h.call(x,r,n)}),r}},655:(a,m,e)=>{var d=e(867),f=e(16),r=e(481),n={"Content-Type":"application/x-www-form-urlencoded"};function p(l,_){!d.isUndefined(l)&&d.isUndefined(l["Content-Type"])&&(l["Content-Type"]=_)}var x,h={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:((typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(x=e(448)),x),transformRequest:[function(l,_){return f(_,"Accept"),f(_,"Content-Type"),d.isFormData(l)||d.isArrayBuffer(l)||d.isBuffer(l)||d.isStream(l)||d.isFile(l)||d.isBlob(l)?l:d.isArrayBufferView(l)?l.buffer:d.isURLSearchParams(l)?(p(_,"application/x-www-form-urlencoded;charset=utf-8"),l.toString()):d.isObject(l)||_&&_["Content-Type"]==="application/json"?(p(_,"application/json"),function(c,o,b){if(d.isString(c))try{return(0,JSON.parse)(c),d.trim(c)}catch(g){if(g.name!=="SyntaxError")throw g}return(0,JSON.stringify)(c)}(l)):l}],transformResponse:[function(l){var _=this.transitional||h.transitional,c=_&&_.silentJSONParsing,o=_&&_.forcedJSONParsing,b=!c&&this.responseType==="json";if(b||o&&d.isString(l)&&l.length)try{return JSON.parse(l)}catch(g){if(b)throw g.name==="SyntaxError"?r(g,this,"E_JSON_PARSE"):g}return l}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(l){return l>=200&&l<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};d.forEach(["delete","get","head"],function(l){h.headers[l]={}}),d.forEach(["post","put","patch"],function(l){h.headers[l]=d.merge(n)}),a.exports=h},288:a=>{a.exports={version:"0.25.0"}},849:a=>{a.exports=function(m,e){return function(){for(var d=new Array(arguments.length),f=0;f<d.length;f++)d[f]=arguments[f];return m.apply(e,d)}}},327:(a,m,e)=>{var d=e(867);function f(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}a.exports=function(r,n,p){if(!n)return r;var x;if(p)x=p(n);else if(d.isURLSearchParams(n))x=n.toString();else{var h=[];d.forEach(n,function(_,c){_!=null&&(d.isArray(_)?c+="[]":_=[_],d.forEach(_,function(o){d.isDate(o)?o=o.toISOString():d.isObject(o)&&(o=JSON.stringify(o)),h.push(f(c)+"="+f(o))}))}),x=h.join("&")}if(x){var l=r.indexOf("#");l!==-1&&(r=r.slice(0,l)),r+=(r.indexOf("?")===-1?"?":"&")+x}return r}},303:a=>{a.exports=function(m,e){return e?m.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):m}},372:(a,m,e)=>{var d=e(867);a.exports=d.isStandardBrowserEnv()?{write:function(f,r,n,p,x,h){var l=[];l.push(f+"="+encodeURIComponent(r)),d.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),d.isString(p)&&l.push("path="+p),d.isString(x)&&l.push("domain="+x),h===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(f){var r=document.cookie.match(new RegExp("(^|;\\s*)("+f+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(f){this.write(f,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},793:a=>{a.exports=function(m){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(m)}},268:(a,m,e)=>{var d=e(867);a.exports=function(f){return d.isObject(f)&&f.isAxiosError===!0}},985:(a,m,e)=>{var d=e(867);a.exports=d.isStandardBrowserEnv()?function(){var f,r=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function p(x){var h=x;return r&&(n.setAttribute("href",h),h=n.href),n.setAttribute("href",h),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return f=p(window.location.href),function(x){var h=d.isString(x)?p(x):x;return h.protocol===f.protocol&&h.host===f.host}}():function(){return!0}},16:(a,m,e)=>{var d=e(867);a.exports=function(f,r){d.forEach(f,function(n,p){p!==r&&p.toUpperCase()===r.toUpperCase()&&(f[r]=n,delete f[p])})}},109:(a,m,e)=>{var d=e(867),f=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];a.exports=function(r){var n,p,x,h={};return r&&d.forEach(r.split(`
`),function(l){if(x=l.indexOf(":"),n=d.trim(l.substr(0,x)).toLowerCase(),p=d.trim(l.substr(x+1)),n){if(h[n]&&f.indexOf(n)>=0)return;h[n]=n==="set-cookie"?(h[n]?h[n]:[]).concat([p]):h[n]?h[n]+", "+p:p}}),h}},713:a=>{a.exports=function(m){return function(e){return m.apply(null,e)}}},875:(a,m,e)=>{var d=e(288).version,f={};["object","boolean","number","function","string","symbol"].forEach(function(n,p){f[n]=function(x){return typeof x===n||"a"+(p<1?"n ":" ")+n}});var r={};f.transitional=function(n,p,x){function h(l,_){return"[Axios v"+d+"] Transitional option '"+l+"'"+_+(x?". "+x:"")}return function(l,_,c){if(n===!1)throw new Error(h(_," has been removed"+(p?" in "+p:"")));return p&&!r[_]&&(r[_]=!0,console.warn(h(_," has been deprecated since v"+p+" and will be removed in the near future"))),!n||n(l,_,c)}},a.exports={assertOptions:function(n,p,x){if(typeof n!="object")throw new TypeError("options must be an object");for(var h=Object.keys(n),l=h.length;l-- >0;){var _=h[l],c=p[_];if(c){var o=n[_],b=o===void 0||c(o,_,n);if(b!==!0)throw new TypeError("option "+_+" must be "+b)}else if(x!==!0)throw Error("Unknown option "+_)}},validators:f}},867:(a,m,e)=>{var d=e(849),f=Object.prototype.toString;function r(c){return Array.isArray(c)}function n(c){return c===void 0}function p(c){return f.call(c)==="[object ArrayBuffer]"}function x(c){return c!==null&&typeof c=="object"}function h(c){if(f.call(c)!=="[object Object]")return!1;var o=Object.getPrototypeOf(c);return o===null||o===Object.prototype}function l(c){return f.call(c)==="[object Function]"}function _(c,o){if(c!=null)if(typeof c!="object"&&(c=[c]),r(c))for(var b=0,g=c.length;b<g;b++)o.call(null,c[b],b,c);else for(var t in c)Object.prototype.hasOwnProperty.call(c,t)&&o.call(null,c[t],t,c)}a.exports={isArray:r,isArrayBuffer:p,isBuffer:function(c){return c!==null&&!n(c)&&c.constructor!==null&&!n(c.constructor)&&typeof c.constructor.isBuffer=="function"&&c.constructor.isBuffer(c)},isFormData:function(c){return f.call(c)==="[object FormData]"},isArrayBufferView:function(c){return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?ArrayBuffer.isView(c):c&&c.buffer&&p(c.buffer)},isString:function(c){return typeof c=="string"},isNumber:function(c){return typeof c=="number"},isObject:x,isPlainObject:h,isUndefined:n,isDate:function(c){return f.call(c)==="[object Date]"},isFile:function(c){return f.call(c)==="[object File]"},isBlob:function(c){return f.call(c)==="[object Blob]"},isFunction:l,isStream:function(c){return x(c)&&l(c.pipe)},isURLSearchParams:function(c){return f.call(c)==="[object URLSearchParams]"},isStandardBrowserEnv:function(){return(typeof navigator=="undefined"||navigator.product!=="ReactNative"&&navigator.product!=="NativeScript"&&navigator.product!=="NS")&&typeof window!="undefined"&&typeof document!="undefined"},forEach:_,merge:function c(){var o={};function b(i,u){h(o[u])&&h(i)?o[u]=c(o[u],i):h(i)?o[u]=c({},i):r(i)?o[u]=i.slice():o[u]=i}for(var g=0,t=arguments.length;g<t;g++)_(arguments[g],b);return o},extend:function(c,o,b){return _(o,function(g,t){c[t]=b&&typeof g=="function"?d(g,b):g}),c},trim:function(c){return c.trim?c.trim():c.replace(/^\s+|\s+$/g,"")},stripBOM:function(c){return c.charCodeAt(0)===65279&&(c=c.slice(1)),c}}},187:a=>{var m,e=typeof Reflect=="object"?Reflect:null,d=e&&typeof e.apply=="function"?e.apply:function(t,i,u){return Function.prototype.apply.call(t,i,u)};m=e&&typeof e.ownKeys=="function"?e.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var f=Number.isNaN||function(t){return t!=t};function r(){r.init.call(this)}a.exports=r,a.exports.once=function(t,i){return new Promise(function(u,y){function v(E){t.removeListener(i,s),y(E)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",v),u([].slice.call(arguments))}g(t,i,s,{once:!0}),i!=="error"&&function(E,O,w){typeof E.on=="function"&&g(E,"error",O,{once:!0})}(t,v)})},r.EventEmitter=r,r.prototype._events=void 0,r.prototype._eventsCount=0,r.prototype._maxListeners=void 0;var n=10;function p(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function x(t){return t._maxListeners===void 0?r.defaultMaxListeners:t._maxListeners}function h(t,i,u,y){var v,s,E,O;if(p(u),(s=t._events)===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",i,u.listener?u.listener:u),s=t._events),E=s[i]),E===void 0)E=s[i]=u,++t._eventsCount;else if(typeof E=="function"?E=s[i]=y?[u,E]:[E,u]:y?E.unshift(u):E.push(u),(v=x(t))>0&&E.length>v&&!E.warned){E.warned=!0;var w=new Error("Possible EventEmitter memory leak detected. "+E.length+" "+String(i)+" listeners added. Use emitter.setMaxListeners() to increase limit");w.name="MaxListenersExceededWarning",w.emitter=t,w.type=i,w.count=E.length,O=w,console&&console.warn&&console.warn(O)}return t}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _(t,i,u){var y={fired:!1,wrapFn:void 0,target:t,type:i,listener:u},v=l.bind(y);return v.listener=u,y.wrapFn=v,v}function c(t,i,u){var y=t._events;if(y===void 0)return[];var v=y[i];return v===void 0?[]:typeof v=="function"?u?[v.listener||v]:[v]:u?function(s){for(var E=new Array(s.length),O=0;O<E.length;++O)E[O]=s[O].listener||s[O];return E}(v):b(v,v.length)}function o(t){var i=this._events;if(i!==void 0){var u=i[t];if(typeof u=="function")return 1;if(u!==void 0)return u.length}return 0}function b(t,i){for(var u=new Array(i),y=0;y<i;++y)u[y]=t[y];return u}function g(t,i,u,y){if(typeof t.on=="function")y.once?t.once(i,u):t.on(i,u);else{if(typeof t.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(i,function v(s){y.once&&t.removeEventListener(i,v),u(s)})}}Object.defineProperty(r,"defaultMaxListeners",{enumerable:!0,get:function(){return n},set:function(t){if(typeof t!="number"||t<0||f(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");n=t}}),r.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},r.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||f(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},r.prototype.getMaxListeners=function(){return x(this)},r.prototype.emit=function(t){for(var i=[],u=1;u<arguments.length;u++)i.push(arguments[u]);var y=t==="error",v=this._events;if(v!==void 0)y=y&&v.error===void 0;else if(!y)return!1;if(y){var s;if(i.length>0&&(s=i[0]),s instanceof Error)throw s;var E=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw E.context=s,E}var O=v[t];if(O===void 0)return!1;if(typeof O=="function")d(O,this,i);else{var w=O.length,S=b(O,w);for(u=0;u<w;++u)d(S[u],this,i)}return!0},r.prototype.addListener=function(t,i){return h(this,t,i,!1)},r.prototype.on=r.prototype.addListener,r.prototype.prependListener=function(t,i){return h(this,t,i,!0)},r.prototype.once=function(t,i){return p(i),this.on(t,_(this,t,i)),this},r.prototype.prependOnceListener=function(t,i){return p(i),this.prependListener(t,_(this,t,i)),this},r.prototype.removeListener=function(t,i){var u,y,v,s,E;if(p(i),(y=this._events)===void 0)return this;if((u=y[t])===void 0)return this;if(u===i||u.listener===i)--this._eventsCount==0?this._events=Object.create(null):(delete y[t],y.removeListener&&this.emit("removeListener",t,u.listener||i));else if(typeof u!="function"){for(v=-1,s=u.length-1;s>=0;s--)if(u[s]===i||u[s].listener===i){E=u[s].listener,v=s;break}if(v<0)return this;v===0?u.shift():function(O,w){for(;w+1<O.length;w++)O[w]=O[w+1];O.pop()}(u,v),u.length===1&&(y[t]=u[0]),y.removeListener!==void 0&&this.emit("removeListener",t,E||i)}return this},r.prototype.off=r.prototype.removeListener,r.prototype.removeAllListeners=function(t){var i,u,y;if((u=this._events)===void 0)return this;if(u.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):u[t]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete u[t]),this;if(arguments.length===0){var v,s=Object.keys(u);for(y=0;y<s.length;++y)(v=s[y])!=="removeListener"&&this.removeAllListeners(v);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(i=u[t])=="function")this.removeListener(t,i);else if(i!==void 0)for(y=i.length-1;y>=0;y--)this.removeListener(t,i[y]);return this},r.prototype.listeners=function(t){return c(this,t,!0)},r.prototype.rawListeners=function(t){return c(this,t,!1)},r.listenerCount=function(t,i){return typeof t.listenerCount=="function"?t.listenerCount(i):o.call(t,i)},r.prototype.listenerCount=o,r.prototype.eventNames=function(){return this._eventsCount>0?m(this._events):[]}},230:a=>{a.exports=typeof self=="object"?self.FormData:window.FormData},587:a=>{function m(e,d){return Object.prototype.hasOwnProperty.call(e,d)}a.exports=function(e,d,f,r){d=d||"&",f=f||"=";var n={};if(typeof e!="string"||e.length===0)return n;var p=/\+/g;e=e.split(d);var x=1e3;r&&typeof r.maxKeys=="number"&&(x=r.maxKeys);var h=e.length;x>0&&h>x&&(h=x);for(var l=0;l<h;++l){var _,c,o,b,g=e[l].replace(p,"%20"),t=g.indexOf(f);t>=0?(_=g.substr(0,t),c=g.substr(t+1)):(_=g,c=""),o=decodeURIComponent(_),b=decodeURIComponent(c),m(n,o)?Array.isArray(n[o])?n[o].push(b):n[o]=[n[o],b]:n[o]=b}return n}},361:a=>{var m=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};a.exports=function(e,d,f,r){return d=d||"&",f=f||"=",e===null&&(e=void 0),typeof e=="object"?Object.keys(e).map(function(n){var p=encodeURIComponent(m(n))+f;return Array.isArray(e[n])?e[n].map(function(x){return p+encodeURIComponent(m(x))}).join(d):p+encodeURIComponent(m(e[n]))}).join(d):r?encodeURIComponent(m(r))+f+encodeURIComponent(m(e)):""}},673:(a,m,e)=>{m.decode=m.parse=e(587),m.encode=m.stringify=e(361)},511:function(a,m,e){var d;a=e.nmd(a),function(f){m&&m.nodeType,a&&a.nodeType;var r=typeof e.g=="object"&&e.g;r.global!==r&&r.window!==r&&r.self;var n,p=2147483647,x=36,h=/^xn--/,l=/[^\x20-\x7E]/,_=/[\x2E\u3002\uFF0E\uFF61]/g,c={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},o=Math.floor,b=String.fromCharCode;function g(w){throw RangeError(c[w])}function t(w,S){for(var L=w.length,j=[];L--;)j[L]=S(w[L]);return j}function i(w,S){var L=w.split("@"),j="";return L.length>1&&(j=L[0]+"@",w=L[1]),j+t((w=w.replace(_,".")).split("."),S).join(".")}function u(w){for(var S,L,j=[],C=0,P=w.length;C<P;)(S=w.charCodeAt(C++))>=55296&&S<=56319&&C<P?(64512&(L=w.charCodeAt(C++)))==56320?j.push(((1023&S)<<10)+(1023&L)+65536):(j.push(S),C--):j.push(S);return j}function y(w){return t(w,function(S){var L="";return S>65535&&(L+=b((S-=65536)>>>10&1023|55296),S=56320|1023&S),L+b(S)}).join("")}function v(w,S){return w+22+75*(w<26)-((S!=0)<<5)}function s(w,S,L){var j=0;for(w=L?o(w/700):w>>1,w+=o(w/S);w>455;j+=x)w=o(w/35);return o(j+36*w/(w+38))}function E(w){var S,L,j,C,P,k,q,M,J,z,$,H=[],V=w.length,I=0,K=128,B=72;for((L=w.lastIndexOf("-"))<0&&(L=0),j=0;j<L;++j)w.charCodeAt(j)>=128&&g("not-basic"),H.push(w.charCodeAt(j));for(C=L>0?L+1:0;C<V;){for(P=I,k=1,q=x;C>=V&&g("invalid-input"),((M=($=w.charCodeAt(C++))-48<10?$-22:$-65<26?$-65:$-97<26?$-97:x)>=x||M>o((p-I)/k))&&g("overflow"),I+=M*k,!(M<(J=q<=B?1:q>=B+26?26:q-B));q+=x)k>o(p/(z=x-J))&&g("overflow"),k*=z;B=s(I-P,S=H.length+1,P==0),o(I/S)>p-K&&g("overflow"),K+=o(I/S),I%=S,H.splice(I++,0,K)}return y(H)}function O(w){var S,L,j,C,P,k,q,M,J,z,$,H,V,I,K,B=[];for(H=(w=u(w)).length,S=128,L=0,P=72,k=0;k<H;++k)($=w[k])<128&&B.push(b($));for(j=C=B.length,C&&B.push("-");j<H;){for(q=p,k=0;k<H;++k)($=w[k])>=S&&$<q&&(q=$);for(q-S>o((p-L)/(V=j+1))&&g("overflow"),L+=(q-S)*V,S=q,k=0;k<H;++k)if(($=w[k])<S&&++L>p&&g("overflow"),$==S){for(M=L,J=x;!(M<(z=J<=P?1:J>=P+26?26:J-P));J+=x)K=M-z,I=x-z,B.push(b(v(z+K%I,0))),M=o(K/I);B.push(b(v(M,0))),P=s(L,V,j==C),L=0,++j}++L,++S}return B.join("")}n={version:"1.3.2",ucs2:{decode:u,encode:y},decode:E,encode:O,toASCII:function(w){return i(w,function(S){return l.test(S)?"xn--"+O(S):S})},toUnicode:function(w){return i(w,function(S){return h.test(S)?E(S.slice(4).toLowerCase()):S})}},(d=function(){return n}.call(m,e,m,a))===void 0||(a.exports=d)}()},575:(a,m,e)=>{e(511),e(502),e(673)},502:a=>{a.exports={isString:function(m){return typeof m=="string"},isObject:function(m){return typeof m=="object"&&m!==null},isNull:function(m){return m===null},isNullOrUndefined:function(m){return m==null}}}},U={};function R(a){var m=U[a];if(m!==void 0)return m.exports;var e=U[a]={id:a,loaded:!1,exports:{}};return T[a].call(e.exports,e,e.exports,R),e.loaded=!0,e.exports}R.n=a=>{var m=a&&a.__esModule?()=>a.default:()=>a;return R.d(m,{a:m}),m},R.d=(a,m)=>{for(var e in m)R.o(m,e)&&!R.o(a,e)&&Object.defineProperty(a,e,{enumerable:!0,get:m[e]})},R.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),R.o=(a,m)=>Object.prototype.hasOwnProperty.call(a,m),R.nmd=a=>(a.paths=[],a.children||(a.children=[]),a);var F={};return(()=>{function a(b,g,t,i){return new(t||(t=Promise))(function(u,y){function v(O){try{E(i.next(O))}catch(w){y(w)}}function s(O){try{E(i.throw(O))}catch(w){y(w)}}function E(O){var w;O.done?u(O.value):(w=O.value,w instanceof t?w:new t(function(S){S(w)})).then(v,s)}E((i=i.apply(b,g||[])).next())})}R.d(F,{default:()=>o});var m=R(187);const e="https://api.imgur.com";var d=R(230),f=R.n(d);function r(b){const g=new(f());if(typeof b=="string")return g.append("image",b),g;for(const[t,i]of Object.entries(b)){const u=["base64","stream"];u.indexOf(t)!==-1?u.indexOf(b.type)!==-1&&g.append(t,b):i&&g.append(t,i)}return g.getHeaders=g.getHeaders?g.getHeaders:()=>({"Content-Type":"multipart/form-data"}),g}function n(b){var g,t,i,u,y,v,s,E,O,w;let S,L=!0,j=200;const C=b&&(b.status!==void 0||((g=b.data)===null||g===void 0?void 0:g.status)!==void 0)&&b.data!==void 0,P=C&&!!b.data.success,k=C&&!P&&(((t=b.data.data)===null||t===void 0?void 0:t.error)!==void 0||b.data.errors!==void 0);var q;return b===void 0?(S="response was empty",j=500,L=!1):typeof b=="string"?(S=b,j=500,L=!1):P?(j=b.data.status,S=b.data.data.error?b.data.data.error:b.data.data):(L=!1,j=(v=(y=(u=(i=b.data.data)===null||i===void 0?void 0:i.error)===null||u===void 0?void 0:u.code)!==null&&y!==void 0?y:b.status)!==null&&v!==void 0?v:b.data.status,q=k?(E=(s=b.data.errors)!==null&&s!==void 0?s:b.data.data.error.message)!==null&&E!==void 0?E:b.data.data.error:(w=(O=b.data.data)!==null&&O!==void 0?O:b.data.message)!==null&&w!==void 0?w:b.data,S=Array.isArray(q)?q.map(M=>k?M.detail:M.data):q),{data:S,status:j,success:L}}var p=R(575);const x={section:"hot",sort:"viral"},h=["q_all","q_any","q_exactly","q_not","q_type","q_size_px"];var l=R(669),_=R.n(l);class c extends m.EventEmitter{constructor(g){var t,i,u;super(),this.credentials=g,this.credentials.rapidApiHost=!((t=g.rapidApiKey)===null||t===void 0)&&t.length?(i=g.rapidApiHost)!==null&&i!==void 0?i:"imgur-apiv3.p.rapidapi.com":g.rapidApiHost;const y=typeof window!="undefined"?{}:{"user-agent":"imgur (https://github.com/keneucker/imgur)"};this.plainFetcher=_().create({baseURL:e,headers:y,responseType:"json"}),this.fetcher=_().create({baseURL:!((u=g.rapidApiKey)===null||u===void 0)&&u.length?`https://${this.credentials.rapidApiHost}`:e,headers:y,responseType:"json"}),this.fetcher.interceptors.request.use(v=>a(this,void 0,void 0,function*(){var s;return v.headers=v.headers?v.headers:{},v.headers.authorization=yield function(E){return a(this,void 0,void 0,function*(){if(E.credentials.accessToken!==void 0)return`Bearer ${E.credentials.accessToken}`;const{clientId:O,clientSecret:w,refreshToken:S}=E.credentials;if(E.credentials.refreshToken!==void 0){const L={url:"oauth2/token",baseURL:e,method:"POST",data:{client_id:O,client_secret:w,refresh_token:S,grant_type:"refresh_token"}},j=yield E.plainRequest(L);if(j.status===200&&j.data){const{access_token:C,refresh_token:P}=j.data;return E.credentials.accessToken=C,E.credentials.refreshToken=P,`Bearer ${C}`}}return E.credentials.clientId!==void 0?`Client-ID ${O}`:null})}(this),!((s=g.rapidApiKey)===null||s===void 0)&&s.length&&(v.headers["x-rapidapi-host"]=g.rapidApiHost,v.headers["x-rapidapi-key"]=g.rapidApiKey),v}),v=>Promise.reject(v))}plainRequest(g){return this.plainFetcher(g)}request(g={}){return this.fetcher(g)}deleteImage(g){return function(t,i){return a(this,void 0,void 0,function*(){const u=`3/image/${i}`;return n(yield t.request({url:u,method:"DELETE"}).catch(y=>y.response))})}(this,g)}favoriteImage(g){return function(t,i){return a(this,void 0,void 0,function*(){const u=`3/image/${i}/favorite`;return n(yield t.request({url:u,method:"POST"}).catch(y=>y.response))})}(this,g)}getAlbum(g){return function(t,i){return a(this,void 0,void 0,function*(){const u=`3/album/${i}`;return n(yield t.request({url:u}).catch(y=>y.response))})}(this,g)}getAccount(g){return function(t,i){return a(this,void 0,void 0,function*(){const u=`3/account/${i}`;return n(yield t.plainRequest({url:u}).catch(y=>y.response))})}(this,g)}getAlbums(g,t){return function(i,u,y){return a(this,void 0,void 0,function*(){const v=`3/account/${u}/albums/${y!=null?y:""}`;return n(yield i.request({url:v}).catch(s=>s.response))})}(this,g,t)}createAlbum(g,t){return function(i,u,y){var v,s;return a(this,void 0,void 0,function*(){const E=r({title:u,description:y}),O=yield i.request({url:"3/album",headers:E.getHeaders(),method:"POST",data:E}).catch(w=>w.response);return((v=O.data)===null||v===void 0?void 0:v.success)&&((s=O.data)===null||s===void 0?void 0:s.data)&&(O.data.data.title=u,O.data.data.description=y),n(O)})}(this,g,t)}getAlbumsIds(g,t){return function(i,u,y){return a(this,void 0,void 0,function*(){const v=`3/account/${u}/albums/ids/${y!=null?y:""}`;return n(yield i.request({url:v}).catch(s=>s.response))})}(this,g,t)}getGallery(g){return function(t,i=x){return a(this,void 0,void 0,function*(){const{pathname:u}=function(v){const s=Object.assign({},x,v);let E=`${s.section}`;s.sort&&(E+=`/${s.sort}`),s.section==="top"&&s.window&&(E+=`/${s.window}`),s.page&&(E+=`/${s.page}`);const O=new p.URL(`${e}/3/gallery/${E}`);return s.showViral!==void 0&&O.searchParams.append("showViral",s.showViral.toString()),s.mature!==void 0&&O.searchParams.append("mature",s.mature.toString()),s.album_previews!==void 0&&O.searchParams.append("album_previews",s.album_previews.toString()),O}(i),y=u.slice(1);return n(yield t.request({url:y}).catch(v=>v.response))})}(this,g)}getSubredditGallery(g){return function(t,i){return a(this,void 0,void 0,function*(){const{pathname:u}=function(v){let s=`${v.subreddit}`;return v.sort&&(s+=`/${v.sort}`),v.sort==="top"&&v.window&&(s+=`/${v.window}`),v.page&&(s+=`/${v.page}`),new p.URL(`${e}/3/gallery/r/${s}`)}(i),y=u.slice(1);return n(yield t.request({url:y}).catch(v=>v.response))})}(this,g)}searchGallery(g){return function(t,i){return a(this,void 0,void 0,function*(){const{pathname:u}=function(v){let s="";v.sort&&(s+=`/${v.sort}`),v.sort==="top"&&v.window&&(s+=`/${v.window}`),v.page&&(s+=`/${v.page}`);const E=new p.URL(`${e}/3/gallery/search${s}`);if(h.forEach(O=>{var w;!((w=v[O])===null||w===void 0)&&w.length&&E.searchParams.append(O,v[O])}),!E.search){const O=v.q||v.query;if(!O)throw new Error("No query was provided");E.searchParams.append("q",O)}return E}(i),y=u.slice(1);return n(yield t.request({url:y}).catch(v=>v.response))})}(this,g)}getImage(g){return function(t,i){return a(this,void 0,void 0,function*(){const u=`3/image/${i}`;return n(yield t.request({url:u}).catch(y=>y.response))})}(this,g)}updateImage(g){return function(t,i){return a(this,void 0,void 0,function*(){if(typeof(u=i).title!="string"&&typeof u.description!="string")throw new Error("Update requires a title and/or description");var u;const y=`3/image/${i.imageHash}`,v=r(i);return new Promise(s=>a(this,void 0,void 0,function*(){return s(n(yield t.request({url:y,method:"POST",data:v,headers:v.getHeaders()}).catch(E=>E.response)))}))})}(this,g)}upload(g){return function(t,i){var u;return a(this,void 0,void 0,function*(){const y=r(i),v=i.image,s=typeof v=="string"?v:(u=v.path)!==null&&u!==void 0?u:v.name,E=i.type!=="stream"||!s||s.indexOf(".mp4")===-1&&s.indexOf(".avi")===-1?"3/image":"3/upload";return new Promise(O=>a(this,void 0,void 0,function*(){return O(n(yield t.request({url:E,method:"POST",data:y,headers:y.getHeaders(),onUploadProgress:w=>{t.emit("uploadProgress",Object.assign({},w))}}).catch(w=>w.response)))}))})}(this,g)}}const o=c})(),F.default})()})})(rt);var yt=st(rt.exports);const wt={class:"grid grid-cols-2 gap-2"},bt={class:"col-span-2"},xt={key:0},_t=["src"],Et={class:"mb-2"},Ot=D("label",{for:"upload",class:"block hover:bg-slate-100 cursor-pointer text-center bg-slate-50 py-10"},"\u4E0A\u50B3\u4E00\u5F35\u5716",-1),St=D("button",{class:"bg-stone-700 text-white p-3 rounded-lg mr-3",type:"reset"},"\u53D6\u6D88",-1),jt=["src"],Lt=["onClick"],Ct={__name:"Gallery",setup(A){const N=new yt({clientId:"3466d7179394743"}),T=at(),U=W(""),{loading:R,list:F,reload:a}=dt(),m=f=>{const r=f.target.files[0],n=new FileReader;n.addEventListener("load",p=>{U.value=p.target.result}),n.readAsDataURL(r)},e=async()=>{const f=U.value.slice(22);console.log(f);const{data:{link:r}}=await N.upload({type:"base64",image:f});await Q.from("gallery").insert([{img_url:r,owner_id:T.id}]),a()},d=async f=>{const{data:r,error:n}=await Q.from("gallery").update({active:!1}).eq("id",f);n&&console.error(n),a()};return(f,r)=>(G(),Y("ul",wt,[D("div",bt,[U.value?(G(),Y("figure",xt,[D("img",{src:U.value,alt:""},null,8,_t)])):ut("",!0),D("p",Et,[D("input",{onChange:m,id:"upload",required:"",class:"hidden",type:"file",accept:".png, .jpg, .jpeg"},null,32),Ot]),D("p",{class:"text-right"},[St,D("button",{class:"bg-stone-700 text-white p-3 rounded-lg",onClick:e},"\u9001\u51FA")])]),(G(!0),Y(ct,null,lt(Z(F),n=>(G(),Y("li",{key:n.id},[D("p",null,"\u7167\u7247\u7DE8\u865F: "+X(n.id),1),D("figure",null,[D("img",{src:n.img_url},null,8,jt)]),D("p",null,"\u4E0A\u50B3\u65E5\u671F"+X(Z(nt)(n.created_at,"MM/DD")),1),D("p",null,"\u66F4\u6539\u65E5\u671F"+X(Z(nt)(n.updated_at,"MM/DD")),1),D("p",null,X(n.description?n.description:"\u7121\u63CF\u8FF0"),1),D("p",null,[D("button",{class:"bg-stone-700 text-white p-3 rounded-lg",onClick:p=>d(n.id)},"\u522A\u9664\u7167\u7247",8,Lt)])]))),128))]))}};export{Ct as default};
