import{r as c,s as h,f as v,j as g,k as x,o as p,c as f,d as i,w as y,a as e,t as b,l as w,v as _,h as k,F as S}from"./index.3fa6d040.js";const V=({id:m})=>{const l=c(!1),t=c([]),a=c(null),n=()=>{l.value=!0,t.value=[],a.value=null,h.from("profiles").select("*").eq("id",m).then(({data:s,error:u})=>{l.value=!1,t.value=s,a.value=u})};return n(),{loading:l,list:t,err:a,reload:n}},B=e("h1",{class:"text-white text-3xl"},"Profile",-1),D=["onSubmit"],F=e("h2",null,"\u4F7F\u7528\u8005\u540D\u7A31:",-1),P={for:"username"},U=e("h2",null,"\u7DB2\u7AD9:",-1),q={for:"website"},M=e("p",null,[e("input",{class:"ring-2 ring-slate-600 p-3 rounded-lg",type:"submit",value:"\u4FEE\u6539"})],-1),j={__name:"Profile",setup(m){const l=v(),{list:t,loading:a,reload:n}=V({id:l.id}),s=g({website:"",username:""});x(a,o=>{o||(s.username=t.value[0].username,s.website=t.value[0].website)});const u=async()=>{const{error:o}=await h.from("profiles").update({website:s.website,username:s.username}).eq("id",l.id);o||(s.username="",s.website="",n())};return(o,r)=>(p(),f(S,null,[B,i(a)?k("",!0):(p(),f("form",{key:0,class:"p-4 rounded-xl bg-white",onSubmit:y(u,["prevent"])},[F,e("p",null,[e("label",P,b(i(t)[0].username),1)]),e("p",null,[w(e("input",{type:"text","onUpdate:modelValue":r[0]||(r[0]=d=>s.username=d),id:"username",placeholder:"username"},null,512),[[_,s.username]])]),U,e("p",null,[e("label",q,b(i(t)[0].website?i(t)[0].website:"null"),1)]),e("p",null,[w(e("input",{type:"url","onUpdate:modelValue":r[1]||(r[1]=d=>s.website=d),id:"website",placeholder:"website"},null,512),[[_,s.website]])]),M],40,D))],64))}};export{j as default};
